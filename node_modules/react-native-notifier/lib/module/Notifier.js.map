{"version":3,"sources":["Notifier.tsx"],"names":["React","Animated","View","TouchableWithoutFeedback","Platform","PanGestureHandler","State","styles","Notification","NotificationComponent","DEFAULT_ANIMATION_DURATION","DEFAULT_DURATION","MAX_TRANSLATE_Y","MIN_TRANSLATE_Y","SWIPE_ANIMATION_DURATION","SWIPE_PIXELS_TO_CLOSE","DEFAULT_SWIPE_ENABLED","DEFAULT_COMPONENT_HEIGHT","Notifier","showNotification","hideNotification","clearQueue","NotifierRoot","PureComponent","constructor","props","state","Component","swipeEnabled","componentProps","isShown","isHiding","hideTimer","showParams","callStack","hiddenComponentValue","translateY","Value","translateYInterpolated","interpolate","inputRange","outputRange","extrapolate","onGestureEvent","event","nativeEvent","translationY","useNativeDriver","onPress","bind","onHandlerStateChange","onLayout","componentWillUnmount","clearTimeout","callback","timing","toValue","easing","hideEasing","duration","hideAnimationDuration","animationDuration","start","result","onHidden","onStartHiding","functionParams","params","queueMode","push","unshift","title","description","translucentStatusBar","containerStyle","containerProps","onShown","restParams","setState","setHideTimer","setValue","showEasing","showAnimationDuration","hideDisplayedNotification","isNaN","setTimeout","nextNotification","shift","ACTIVE","oldState","swipePixelsToClose","isSwipedOut","swipeEasing","swipeAnimationDuration","hideOnPress","heightWithMargin","layout","height","Math","max","render","additionalContainerStyle","container","transform","OS","translucentStatusBarPadding","undefined"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  View,\n  TouchableWithoutFeedback,\n  LayoutChangeEvent,\n  Platform,\n} from 'react-native';\nimport {\n  PanGestureHandler,\n  State,\n  PanGestureHandlerStateChangeEvent,\n} from 'react-native-gesture-handler';\n\nimport styles from './Notifier.styles';\nimport { Notification as NotificationComponent } from './components';\nimport {\n  DEFAULT_ANIMATION_DURATION,\n  DEFAULT_DURATION,\n  MAX_TRANSLATE_Y,\n  MIN_TRANSLATE_Y,\n  SWIPE_ANIMATION_DURATION,\n  SWIPE_PIXELS_TO_CLOSE,\n  DEFAULT_SWIPE_ENABLED,\n  DEFAULT_COMPONENT_HEIGHT,\n} from './constants';\nimport { ShowParams, ShowNotificationParams, StateInterface, NotifierInterface } from './types';\n\nexport const Notifier: NotifierInterface = {\n  showNotification: () => {},\n  hideNotification: () => {},\n  clearQueue: () => {},\n};\n\nexport class NotifierRoot extends React.PureComponent<ShowNotificationParams, StateInterface> {\n  private isShown: boolean;\n  private isHiding: boolean;\n  private hideTimer: any;\n  private showParams: ShowParams | null;\n  private callStack: Array<ShowNotificationParams>;\n  private hiddenComponentValue: number;\n  private readonly translateY: Animated.Value;\n  private readonly translateYInterpolated: Animated.AnimatedInterpolation;\n  private readonly onGestureEvent: (...args: any[]) => void;\n\n  constructor(props: ShowNotificationParams) {\n    super(props);\n\n    this.state = {\n      Component: NotificationComponent,\n      swipeEnabled: DEFAULT_SWIPE_ENABLED,\n      componentProps: {},\n    };\n    this.isShown = false;\n    this.isHiding = false;\n    this.hideTimer = null;\n    this.showParams = null;\n    this.callStack = [];\n    this.hiddenComponentValue = -DEFAULT_COMPONENT_HEIGHT;\n\n    this.translateY = new Animated.Value(MIN_TRANSLATE_Y);\n    this.translateYInterpolated = this.translateY.interpolate({\n      inputRange: [MIN_TRANSLATE_Y, MAX_TRANSLATE_Y],\n      outputRange: [MIN_TRANSLATE_Y, MAX_TRANSLATE_Y],\n      extrapolate: 'clamp',\n    });\n\n    this.onGestureEvent = Animated.event(\n      [\n        {\n          nativeEvent: { translationY: this.translateY },\n        },\n      ],\n      { useNativeDriver: true }\n    );\n\n    this.onPress = this.onPress.bind(this);\n    this.onHandlerStateChange = this.onHandlerStateChange.bind(this);\n    this.onLayout = this.onLayout.bind(this);\n    this.showNotification = this.showNotification.bind(this);\n    this.hideNotification = this.hideNotification.bind(this);\n    this.clearQueue = this.clearQueue.bind(this);\n\n    Notifier.showNotification = this.showNotification;\n    Notifier.hideNotification = this.hideNotification;\n    Notifier.clearQueue = this.clearQueue;\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.hideTimer);\n  }\n\n  public hideNotification(callback?: Animated.EndCallback) {\n    if (!this.isShown || this.isHiding) {\n      return;\n    }\n\n    Animated.timing(this.translateY, {\n      toValue: this.hiddenComponentValue,\n      easing: this.showParams?.hideEasing ?? this.showParams?.easing,\n      duration:\n        this.showParams?.hideAnimationDuration ??\n        this.showParams?.animationDuration ??\n        DEFAULT_ANIMATION_DURATION,\n      useNativeDriver: true,\n    }).start((result) => {\n      this.onHidden();\n      callback?.(result);\n    });\n\n    this.onStartHiding();\n  }\n\n  public showNotification<ComponentType extends React.ElementType = typeof NotificationComponent>(\n    functionParams: ShowNotificationParams<ComponentType>\n  ) {\n    const params = {\n      ...this.props,\n      ...functionParams,\n      componentProps: { ...this.props?.componentProps, ...functionParams?.componentProps },\n    };\n\n    if (this.isShown) {\n      switch (params.queueMode) {\n        case 'standby': {\n          this.callStack.push(params);\n          break;\n        }\n        case 'next': {\n          this.callStack.unshift(params);\n          break;\n        }\n        case 'immediate': {\n          this.callStack.unshift(params);\n          this.hideNotification();\n          break;\n        }\n        default: {\n          this.callStack = [params];\n          this.hideNotification();\n          break;\n        }\n      }\n      return;\n    }\n\n    const {\n      title,\n      description,\n      swipeEnabled,\n      Component,\n      componentProps,\n      translucentStatusBar,\n      containerStyle,\n      containerProps,\n      onShown,\n      ...restParams\n    } = params;\n\n    this.setState({\n      title,\n      description,\n      Component: Component ?? NotificationComponent,\n      swipeEnabled: swipeEnabled ?? DEFAULT_SWIPE_ENABLED,\n      componentProps: componentProps,\n      translucentStatusBar,\n      containerStyle,\n      containerProps,\n    });\n\n    this.showParams = restParams;\n    this.isShown = true;\n\n    this.setHideTimer();\n\n    this.translateY.setValue(-DEFAULT_COMPONENT_HEIGHT);\n    Animated.timing(this.translateY, {\n      toValue: MAX_TRANSLATE_Y,\n      easing: this.showParams?.showEasing ?? this.showParams?.easing,\n      duration:\n        this.showParams?.showAnimationDuration ??\n        this.showParams?.animationDuration ??\n        DEFAULT_ANIMATION_DURATION,\n      useNativeDriver: true,\n    }).start(onShown);\n  }\n\n  public clearQueue(hideDisplayedNotification?: boolean) {\n    this.callStack = [];\n\n    if (hideDisplayedNotification) {\n      this.hideNotification();\n    }\n  }\n\n  private setHideTimer() {\n    const { duration = DEFAULT_DURATION } = this.showParams ?? {};\n    clearTimeout(this.hideTimer);\n    if (duration && !isNaN(duration)) {\n      this.hideTimer = setTimeout(this.hideNotification, duration);\n    }\n  }\n\n  private onStartHiding() {\n    this.showParams?.onStartHiding?.();\n    this.isHiding = true;\n    clearTimeout(this.hideTimer);\n  }\n\n  private onHidden() {\n    this.showParams?.onHidden?.();\n    this.isShown = false;\n    this.isHiding = false;\n    this.showParams = null;\n    this.translateY.setValue(MIN_TRANSLATE_Y);\n\n    const nextNotification = this.callStack.shift();\n    if (nextNotification) {\n      this.showNotification(nextNotification);\n    }\n  }\n\n  private onHandlerStateChange({ nativeEvent }: PanGestureHandlerStateChangeEvent) {\n    if (nativeEvent.state === State.ACTIVE) {\n      clearTimeout(this.hideTimer);\n    }\n    if (nativeEvent.oldState !== State.ACTIVE) {\n      return;\n    }\n    this.setHideTimer();\n\n    const swipePixelsToClose = -(this.showParams?.swipePixelsToClose ?? SWIPE_PIXELS_TO_CLOSE);\n    const isSwipedOut = nativeEvent.translationY < swipePixelsToClose;\n\n    Animated.timing(this.translateY, {\n      toValue: isSwipedOut ? this.hiddenComponentValue : MAX_TRANSLATE_Y,\n      easing: this.showParams?.swipeEasing,\n      duration: this.showParams?.swipeAnimationDuration ?? SWIPE_ANIMATION_DURATION,\n      useNativeDriver: true,\n    }).start(() => {\n      if (isSwipedOut) {\n        this.onHidden();\n      }\n    });\n\n    if (isSwipedOut) {\n      this.onStartHiding();\n    }\n  }\n\n  private onPress() {\n    this.showParams?.onPress?.();\n    if (this.showParams?.hideOnPress !== false) {\n      this.hideNotification();\n    }\n  }\n\n  private onLayout({ nativeEvent }: LayoutChangeEvent) {\n    const heightWithMargin = nativeEvent.layout.height + 50;\n    this.hiddenComponentValue = -Math.max(heightWithMargin, DEFAULT_COMPONENT_HEIGHT);\n  }\n\n  render() {\n    const {\n      title,\n      description,\n      swipeEnabled,\n      Component,\n      componentProps,\n      translucentStatusBar,\n      containerStyle,\n      containerProps,\n    } = this.state;\n\n    const additionalContainerStyle =\n      typeof containerStyle === 'function' ? containerStyle(this.translateY) : containerStyle;\n\n    return (\n      <PanGestureHandler\n        enabled={swipeEnabled}\n        onGestureEvent={this.onGestureEvent}\n        onHandlerStateChange={this.onHandlerStateChange}\n      >\n        <Animated.View\n          {...containerProps}\n          style={[\n            styles.container,\n            {\n              transform: [{ translateY: this.translateYInterpolated }],\n            },\n            additionalContainerStyle,\n          ]}\n        >\n          <TouchableWithoutFeedback onPress={this.onPress}>\n            <View\n              onLayout={this.onLayout}\n              style={\n                Platform.OS === 'android' && translucentStatusBar\n                  ? styles.translucentStatusBarPadding\n                  : undefined\n              }\n            >\n              <Component title={title} description={description} {...componentProps} />\n            </View>\n          </TouchableWithoutFeedback>\n        </Animated.View>\n      </PanGestureHandler>\n    );\n  }\n}\n"]}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useState } from \"react\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Boton } from \"../../Style/Boton\";\nimport { NativeScreenNavigationContainer } from \"react-native-screens\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { firebase } from \"../firebaseConfig/Config\";\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\nimport NewButton from \"../../Style/NewButton\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var ChangePassword = function ChangePassword(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"gray\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      color1 = _useState2[0],\n      setColor1 = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass1 = _useState4[0],\n      setPass1 = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      valid1 = _useState6[0],\n      setValid1 = _useState6[1];\n\n  var _useState7 = useState(\"eye-off\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      eye1 = _useState8[0],\n      setEye1 = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      visible1 = _useState10[0],\n      setVisible1 = _useState10[1];\n\n  var _useState11 = useState(\"gray\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      color2 = _useState12[0],\n      setColor2 = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Newpass2 = _useState14[0],\n      setNewPass2 = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      valid2 = _useState16[0],\n      setValid2 = _useState16[1];\n\n  var _useState17 = useState(\"eye-off\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      eye2 = _useState18[0],\n      setEye2 = _useState18[1];\n\n  var _useState19 = useState(true),\n      _useState20 = _slicedToArray(_useState19, 2),\n      visible2 = _useState20[0],\n      setVisible2 = _useState20[1];\n\n  var _useState21 = useState(\"gray\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      color3 = _useState22[0],\n      setColor3 = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      pass3 = _useState24[0],\n      setPass3 = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      valid3 = _useState26[0],\n      setValid3 = _useState26[1];\n\n  var _useState27 = useState(\"eye-off\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      eye3 = _useState28[0],\n      setEye3 = _useState28[1];\n\n  var _useState29 = useState(true),\n      _useState30 = _slicedToArray(_useState29, 2),\n      visible3 = _useState30[0],\n      setVisibl3 = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      loading = _useState32[0],\n      setloading = _useState32[1];\n\n  var reauthenticate = function reauthenticate(pass1) {\n    var user = firebase.auth().currentUser;\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, pass1);\n    return user.reauthenticateWithCredential(cred);\n  };\n\n  var changePassword = function changePassword() {\n    setloading(true);\n    reauthenticate(pass1).then(function () {\n      var user = firebase.auth().currentUser;\n      user.updatePassword(Newpass2).then(function () {\n        setloading(true);\n\n        if (pass1 == Newpass2) {\n          setloading(false);\n          ShowError(\"Used different password\");\n        } else {\n          navigation.goBack();\n          setloading(false);\n          ShowSuccess(\"Password update successfully.\");\n        }\n      }).catch(function () {\n        if (Newpass2 == \"\") {\n          ShowError(\"Please enter new pasword\");\n          setloading(false);\n        } else {\n          ShowError(\"The password must be 6 characters long or more\");\n          setloading(false);\n        }\n      });\n    }).catch(function () {\n      if (pass1 == \"\") {\n        ShowError(\"Please fill out all required fields\");\n        setloading(false);\n      } else {\n        ShowError(\"The current password is invalid\");\n        setloading(false);\n      }\n    });\n  };\n\n  var showpass1 = function showpass1() {\n    if (eye1 == \"eye-off\") {\n      setEye1(\"eye\");\n      setColor1(\"#3897f1\");\n      setVisible1(false);\n    } else if (eye1 == \"eye\") {\n      setEye1(\"eye-off\");\n      setColor1(\"gray\");\n      setVisible1(true);\n    }\n  };\n\n  var showpass2 = function showpass2() {\n    if (eye2 == \"eye-off\") {\n      setEye2(\"eye\");\n      setColor2(\"#3897f1\");\n      setVisible2(false);\n    } else if (eye2 == \"eye\") {\n      setEye2(\"eye-off\");\n      setColor2(\"gray\");\n      setVisible2(true);\n    }\n  };\n\n  var showpass3 = function showpass3() {\n    if (eye3 == \"eye-off\") {\n      setEye3(\"eye\");\n      setColor3(\"green\");\n      setVisibl3(false);\n    } else if (eye3 == \"eye\") {\n      setEye3(\"eye-off\");\n      setColor3(\"gray\");\n      setVisibl3(true);\n    }\n  };\n\n  return _jsx(ScrollView, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Spinner, {\n        visible: loading,\n        textContent: \"Loading...\",\n        textStyle: styles.spinnerTextStyle\n      }), _jsx(Text, {\n        style: {\n          fontSize: 30,\n          fontWeight: \"800\",\n          marginTop: 35,\n          marginBottom: 30,\n          textAlign: \"left\",\n          marginLeft: 10\n        },\n        children: \"Change Password\"\n      }), _jsx(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        children: _jsx(Image, {\n          style: {\n            width: 90,\n            height: 90,\n            marginBottom: 10\n          },\n          source: require(\"../../assets/EXtraUsepictures/email22.png\")\n        })\n      }), _jsxs(View, {\n        style: {\n          paddingLeft: 20,\n          paddingRight: 20,\n          marginTop: 50\n        },\n        children: [_jsx(TextInput, {\n          style: styles.PassTextInput,\n          placeholder: \"Current Password\",\n          placeholderTextColor: \"#c4c3cb\",\n          secureTextEntry: visible1,\n          onChangeText: function onChangeText(t2) {\n            setPass1(t2);\n            setValid1(\"\");\n          }\n        }), _jsx(View, {\n          style: {\n            marginTop: -37,\n            alignSelf: \"flex-end\",\n            marginRight: 20\n          },\n          children: _jsx(Ionicons, {\n            onPress: showpass1,\n            name: eye1,\n            size: 22,\n            color: color1\n          })\n        }), _jsx(Text, {\n          style: {\n            color: \"red\",\n            marginTop: 5\n          },\n          children: valid1\n        })]\n      }), _jsxs(View, {\n        style: {\n          paddingLeft: 20,\n          paddingRight: 20,\n          paddingBottom: 30\n        },\n        children: [_jsx(TextInput, {\n          style: styles.PassTextInput,\n          placeholder: \"New Password\",\n          placeholderTextColor: \"#c4c3cb\",\n          secureTextEntry: visible2,\n          onChangeText: function onChangeText(t2) {\n            setNewPass2(t2);\n            setValid2(\"\");\n          }\n        }), _jsx(View, {\n          style: {\n            marginTop: -37,\n            alignSelf: \"flex-end\",\n            marginRight: 20\n          },\n          children: _jsx(Ionicons, {\n            onPress: showpass2,\n            name: eye2,\n            size: 22,\n            color: color2\n          })\n        }), _jsx(TouchableOpacity, {\n          style: {\n            marginTop: 5,\n            alignSelf: \"flex-end\"\n          },\n          children: _jsx(Text, {\n            style: {\n              color: \"#3897f1\",\n              marginTop: 10\n            },\n            onPress: function onPress() {\n              return navigation.navigate(\"Forgot Password\");\n            },\n            children: \"Forgot Password?\"\n          })\n        }), _jsx(NewButton, {\n          title: \"Update Password\",\n          type: \"solid\",\n          color: \"#3897f1\",\n          onPress: changePassword\n        }), _jsx(Text, {\n          style: {\n            color: \"red\",\n            marginTop: 6\n          },\n          children: valid2\n        })]\n      }), _jsx(View, {\n        style: {\n          height: 250\n        }\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  PassTextInput: {\n    height: 43,\n    fontSize: 14,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"#eaeaea\",\n    backgroundColor: \"#fafafa\",\n    paddingLeft: 10,\n    marginTop: 5,\n    marginBottom: 5\n  }\n});","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/ProfileScreens/ChangePassword.js"],"names":["React","useState","Ionicons","Boton","NativeScreenNavigationContainer","AsyncStorage","firebase","ShowError","ShowSuccess","NewButton","Spinner","ChangePassword","navigation","color1","setColor1","pass1","setPass1","valid1","setValid1","eye1","setEye1","visible1","setVisible1","color2","setColor2","Newpass2","setNewPass2","valid2","setValid2","eye2","setEye2","visible2","setVisible2","color3","setColor3","pass3","setPass3","valid3","setValid3","eye3","setEye3","visible3","setVisibl3","loading","setloading","reauthenticate","user","auth","currentUser","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","changePassword","then","updatePassword","goBack","catch","showpass1","showpass2","showpass3","styles","container","spinnerTextStyle","fontSize","fontWeight","marginTop","marginBottom","textAlign","marginLeft","alignItems","width","height","require","paddingLeft","paddingRight","PassTextInput","t2","alignSelf","marginRight","color","paddingBottom","navigate","StyleSheet","create","borderRadius","borderWidth","borderColor","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ActivityIndicator,\r\n  Image,\r\n  ScrollView,\r\n  StyleSheet,\r\n} from \"react-native\";\r\nimport { useState } from \"react\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { Boton } from \"../../Style/Boton\";\r\nimport { NativeScreenNavigationContainer } from \"react-native-screens\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { firebase } from \"../firebaseConfig/Config\";\r\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\r\nimport NewButton from \"../../Style/NewButton\";\r\nimport Spinner from \"react-native-loading-spinner-overlay\";\r\n\r\nexport const ChangePassword = ({ navigation }) => {\r\n  const [color1, setColor1] = useState(\"gray\");\r\n  const [pass1, setPass1] = useState(\"\");\r\n  const [valid1, setValid1] = useState(null);\r\n  const [eye1, setEye1] = useState(\"eye-off\");\r\n  const [visible1, setVisible1] = useState(true);\r\n\r\n  const [color2, setColor2] = useState(\"gray\");\r\n  const [Newpass2, setNewPass2] = useState(\"\");\r\n  const [valid2, setValid2] = useState(\"\");\r\n  const [eye2, setEye2] = useState(\"eye-off\");\r\n  const [visible2, setVisible2] = useState(true);\r\n\r\n  const [color3, setColor3] = useState(\"gray\");\r\n  const [pass3, setPass3] = useState(\"\");\r\n  const [valid3, setValid3] = useState(null);\r\n  const [eye3, setEye3] = useState(\"eye-off\");\r\n  const [visible3, setVisibl3] = useState(true);\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const reauthenticate = (pass1) => {\r\n    var user = firebase.auth().currentUser;\r\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, pass1);\r\n    return user.reauthenticateWithCredential(cred);\r\n  };\r\n\r\n  const changePassword = () => {\r\n    setloading(true);\r\n    reauthenticate(pass1)\r\n      .then(() => {\r\n        var user = firebase.auth().currentUser;\r\n        user\r\n          .updatePassword(Newpass2)\r\n          .then(() => {\r\n            setloading(true);\r\n            // alert(\"Password updated!\");\r\n            if (pass1 == Newpass2) {\r\n              setloading(false);\r\n              ShowError(\"Used different password\");\r\n            } else {\r\n              navigation.goBack();\r\n              setloading(false);\r\n              ShowSuccess(\"Password update successfully.\");\r\n            }\r\n          })\r\n          .catch(() => {\r\n            if (Newpass2 == \"\") {\r\n              // setValid2(\"Enter new pasword\");\r\n              ShowError(\"Please enter new pasword\");\r\n              setloading(false);\r\n            } else {\r\n              //  setValid2(\"The password must be 6 characters long or more\");\r\n              ShowError(\"The password must be 6 characters long or more\");\r\n              setloading(false);\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        if (pass1 == \"\") {\r\n          // setValid1(\"need current password to change the password\");\r\n          ShowError(\"Please fill out all required fields\");\r\n          setloading(false);\r\n        } else {\r\n          ShowError(\"The current password is invalid\");\r\n          setloading(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  //   changeEmail = (currentPassword, newEmail) => {\r\n  //     this.reauthenticate(currentPassword).then(() => {\r\n  //       var user = firebase.auth().currentUser;\r\n  //       user.updateEmail(newEmail).then(() => {\r\n  //         console.log(\"Email updated!\");\r\n  //       }).catch((error) => { console.log(error); });\r\n  //     }).catch((error) => { console.log(error); });\r\n  //   }\r\n\r\n  const showpass1 = () => {\r\n    if (eye1 == \"eye-off\") {\r\n      setEye1(\"eye\");\r\n      setColor1(\"#3897f1\");\r\n      setVisible1(false);\r\n    } else if (eye1 == \"eye\") {\r\n      setEye1(\"eye-off\");\r\n      setColor1(\"gray\");\r\n      setVisible1(true);\r\n    }\r\n  };\r\n  const showpass2 = () => {\r\n    if (eye2 == \"eye-off\") {\r\n      setEye2(\"eye\");\r\n      setColor2(\"#3897f1\");\r\n      setVisible2(false);\r\n    } else if (eye2 == \"eye\") {\r\n      setEye2(\"eye-off\");\r\n      setColor2(\"gray\");\r\n      setVisible2(true);\r\n    }\r\n  };\r\n  const showpass3 = () => {\r\n    if (eye3 == \"eye-off\") {\r\n      setEye3(\"eye\");\r\n      setColor3(\"green\");\r\n      setVisibl3(false);\r\n    } else if (eye3 == \"eye\") {\r\n      setEye3(\"eye-off\");\r\n      setColor3(\"gray\");\r\n      setVisibl3(true);\r\n    }\r\n  };\r\n  return (\r\n    <ScrollView>\r\n      <View style={styles.container}>\r\n        <Spinner\r\n          //visibility of Overlay Loading Spinner\r\n          visible={loading}\r\n          //Text with the Spinner\r\n          textContent={\"Loading...\"}\r\n          //Text style of the Spinner Text\r\n          textStyle={styles.spinnerTextStyle}\r\n        />\r\n        <Text\r\n          style={{\r\n            fontSize: 30,\r\n            fontWeight: \"800\",\r\n            marginTop: 35,\r\n            marginBottom: 30,\r\n            textAlign: \"left\",\r\n            marginLeft: 10,\r\n          }}\r\n        >\r\n          Change Password\r\n        </Text>\r\n        <View style={{ alignItems: \"center\" }}>\r\n          <Image\r\n            style={{ width: 90, height: 90, marginBottom: 10 }}\r\n            source={require(\"../../assets/EXtraUsepictures/email22.png\")}\r\n          />\r\n        </View>\r\n        <View\r\n          style={{\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            marginTop: 50,\r\n          }}\r\n        >\r\n          <TextInput\r\n            style={styles.PassTextInput}\r\n            placeholder=\"Current Password\"\r\n            placeholderTextColor={\"#c4c3cb\"}\r\n            secureTextEntry={visible1}\r\n            onChangeText={(t2) => {\r\n              setPass1(t2);\r\n              setValid1(\"\");\r\n            }}\r\n          />\r\n\r\n          <View\r\n            style={{ marginTop: -37, alignSelf: \"flex-end\", marginRight: 20 }}\r\n          >\r\n            <Ionicons\r\n              onPress={showpass1}\r\n              name={eye1}\r\n              size={22}\r\n              color={color1}\r\n            />\r\n          </View>\r\n\r\n          <Text style={{ color: \"red\", marginTop: 5 }}>{valid1}</Text>\r\n        </View>\r\n        \r\n        <View style={{ paddingLeft: 20, paddingRight: 20, paddingBottom: 30 }}>\r\n          <TextInput\r\n            style={styles.PassTextInput}\r\n            placeholder=\"New Password\"\r\n            placeholderTextColor={\"#c4c3cb\"}\r\n            secureTextEntry={visible2}\r\n            onChangeText={(t2) => {\r\n              setNewPass2(t2);\r\n              setValid2(\"\");\r\n            }}\r\n          />\r\n\r\n          <View\r\n            style={{ marginTop: -37, alignSelf: \"flex-end\", marginRight: 20 }}\r\n          >\r\n            <Ionicons\r\n              onPress={showpass2}\r\n              name={eye2}\r\n              size={22}\r\n              color={color2}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={{ marginTop: 5, alignSelf: \"flex-end\" }}>\r\n            <Text\r\n              style={{ color: \"#3897f1\", marginTop: 10 }}\r\n              onPress={() => navigation.navigate(\"Forgot Password\")}\r\n            >\r\n              Forgot Password?\r\n            </Text>\r\n          </TouchableOpacity>\r\n          <NewButton\r\n            title={\"Update Password\"}\r\n            type={\"solid\"}\r\n            color={\"#3897f1\"}\r\n            onPress={changePassword}\r\n          />\r\n          <Text style={{ color: \"red\", marginTop: 6 }}>{valid2}</Text>\r\n        </View>\r\n\r\n        {/* <View style={{ marginTop: 50, alignItems: \"center\" }}>\r\n        <Boton\r\n          widt={200}\r\n          height={30}\r\n          title={\"Update Password\"}\r\n          onPress={changePassword}\r\n        />\r\n      </View>\r\n      <TouchableOpacity\r\n        style={{\r\n          marginTop: 20,\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Text\r\n          style={{ color: \"blue\" }}\r\n          onPress={() => navigation.navigate(\"Forgot Password\")}\r\n        >\r\n          Forgot Password?\r\n        </Text>\r\n      </TouchableOpacity> */}\r\n        <View style={{ height: 250 }}></View>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  PassTextInput: {\r\n    height: 43,\r\n    fontSize: 14,\r\n    borderRadius: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#eaeaea\",\r\n    backgroundColor: \"#fafafa\",\r\n    paddingLeft: 10,\r\n    marginTop: 5,\r\n    marginBottom: 5,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}
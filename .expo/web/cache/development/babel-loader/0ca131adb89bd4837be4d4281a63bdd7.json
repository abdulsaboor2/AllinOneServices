{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useState } from \"react\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Boton } from \"../../Style/Boton\";\nimport { NativeScreenNavigationContainer } from \"react-native-screens\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { firebase } from \"../firebaseConfig/Config\";\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var ChangePassword = function ChangePassword(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"gray\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      color1 = _useState2[0],\n      setColor1 = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass1 = _useState4[0],\n      setPass1 = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      valid1 = _useState6[0],\n      setValid1 = _useState6[1];\n\n  var _useState7 = useState(\"eye-off\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      eye1 = _useState8[0],\n      setEye1 = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      visible1 = _useState10[0],\n      setVisible1 = _useState10[1];\n\n  var _useState11 = useState(\"gray\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      color2 = _useState12[0],\n      setColor2 = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Newpass2 = _useState14[0],\n      setNewPass2 = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      valid2 = _useState16[0],\n      setValid2 = _useState16[1];\n\n  var _useState17 = useState(\"eye-off\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      eye2 = _useState18[0],\n      setEye2 = _useState18[1];\n\n  var _useState19 = useState(true),\n      _useState20 = _slicedToArray(_useState19, 2),\n      visible2 = _useState20[0],\n      setVisible2 = _useState20[1];\n\n  var _useState21 = useState(\"gray\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      color3 = _useState22[0],\n      setColor3 = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      pass3 = _useState24[0],\n      setPass3 = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      valid3 = _useState26[0],\n      setValid3 = _useState26[1];\n\n  var _useState27 = useState(\"eye-off\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      eye3 = _useState28[0],\n      setEye3 = _useState28[1];\n\n  var _useState29 = useState(true),\n      _useState30 = _slicedToArray(_useState29, 2),\n      visible3 = _useState30[0],\n      setVisibl3 = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      loading = _useState32[0],\n      setloading = _useState32[1];\n\n  var reauthenticate = function reauthenticate(pass1) {\n    var user = firebase.auth().currentUser;\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, pass1);\n    return user.reauthenticateWithCredential(cred);\n  };\n\n  if (loading) {\n    return _jsx(View, {\n      style: {\n        justifyContent: \"center\",\n        flex: 1\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#00ff00\"\n      })\n    });\n  }\n\n  var changePassword = function changePassword() {\n    reauthenticate(pass1).then(function () {\n      var user = firebase.auth().currentUser;\n      user.updatePassword(Newpass2).then(function () {\n        setloading(true);\n\n        if (pass1 == Newpass2) {\n          setloading(false);\n          setValid2(\"Used different password\");\n        } else {\n          navigation.goBack();\n          setloading(false);\n          ShowSuccess(\"Password update successfully.\");\n        }\n      }).catch(function () {\n        if (Newpass2 == \"\") {\n          ShowError(\"Please enter new pasword\");\n          setloading(false);\n        } else {\n          ShowError(\"The password must be 6 characters long or more\");\n          setloading(false);\n        }\n      });\n    }).catch(function () {\n      if (pass1 == \"\") {\n        ShowError(\"Please fill out all required fields\");\n        setloading(false);\n      } else {\n        setValid1(\"The current password is invalid\");\n        setloading(false);\n      }\n    });\n  };\n\n  var showpass1 = function showpass1() {\n    if (eye1 == \"eye-off\") {\n      setEye1(\"eye\");\n      setColor1(\"green\");\n      setVisible1(false);\n    } else if (eye1 == \"eye\") {\n      setEye1(\"eye-off\");\n      setColor1(\"gray\");\n      setVisible1(true);\n    }\n  };\n\n  var showpass2 = function showpass2() {\n    if (eye2 == \"eye-off\") {\n      setEye2(\"eye\");\n      setColor2(\"green\");\n      setVisible2(false);\n    } else if (eye2 == \"eye\") {\n      setEye2(\"eye-off\");\n      setColor2(\"gray\");\n      setVisible2(true);\n    }\n  };\n\n  var showpass3 = function showpass3() {\n    if (eye3 == \"eye-off\") {\n      setEye3(\"eye\");\n      setColor3(\"green\");\n      setVisibl3(false);\n    } else if (eye3 == \"eye\") {\n      setEye3(\"eye-off\");\n      setColor3(\"gray\");\n      setVisibl3(true);\n    }\n  };\n\n  return _jsxs(ScrollView, {\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 25,\n        marginTop: 40,\n        marginLeft: 15,\n        color: \"#1976d2\",\n        fontWeight: \"bold\",\n        marginBottom: 40\n      },\n      children: \"Change Password\"\n    }), _jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsx(Image, {\n        style: {\n          width: 90,\n          height: 90,\n          marginBottom: 20\n        },\n        source: require(\"../../assets/EXtraUsepictures/email22.png\")\n      })\n    }), _jsxs(View, {\n      style: {\n        paddingLeft: 30,\n        paddingRight: 30,\n        paddingBottom: 30,\n        marginTop: 70\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: \"black\",\n          borderBottomColor: pass1 == \"\" ? \"#ddd\" : \"green\",\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"Current Password\",\n        secureTextEntry: visible1,\n        onChangeText: function onChangeText(t2) {\n          setPass1(t2);\n          setValid1(\"\");\n        }\n      }), _jsx(View, {\n        style: {\n          marginLeft: 285,\n          marginTop: -35\n        },\n        children: _jsx(Ionicons, {\n          onPress: showpass1,\n          name: eye1,\n          size: 28,\n          color: color1\n        })\n      }), _jsx(Text, {\n        style: {\n          color: \"red\",\n          marginTop: 5\n        },\n        children: valid1\n      })]\n    }), _jsxs(View, {\n      style: {\n        paddingLeft: 30,\n        paddingRight: 30,\n        paddingBottom: 30\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: \"black\",\n          borderBottomColor: Newpass2 == \"\" ? \"#ddd\" : \"green\",\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"New Password\",\n        secureTextEntry: visible2,\n        onChangeText: function onChangeText(t2) {\n          setNewPass2(t2);\n          setValid2(\"\");\n        }\n      }), _jsx(View, {\n        style: {\n          marginLeft: 285,\n          marginTop: -35\n        },\n        children: _jsx(Ionicons, {\n          onPress: showpass2,\n          name: eye2,\n          size: 28,\n          color: color2\n        })\n      }), _jsx(Text, {\n        style: {\n          color: \"red\",\n          marginTop: 6\n        },\n        children: valid2\n      })]\n    }), _jsx(View, {\n      style: {\n        marginTop: 50,\n        alignItems: \"center\"\n      },\n      children: _jsx(Boton, {\n        widt: 200,\n        height: 30,\n        title: \"Update Password\",\n        onPress: changePassword\n      })\n    }), _jsx(TouchableOpacity, {\n      style: {\n        marginTop: 20,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: _jsx(Text, {\n        style: {\n          color: \"blue\"\n        },\n        onPress: function onPress() {\n          return navigation.navigate(\"Forgot Password\");\n        },\n        children: \"Forgot Password?\"\n      })\n    }), _jsx(View, {\n      style: {\n        height: 300\n      }\n    })]\n  });\n};","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/ProfileScreens/ChangePassword.js"],"names":["React","useState","Ionicons","Boton","NativeScreenNavigationContainer","AsyncStorage","firebase","ShowError","ShowSuccess","ChangePassword","navigation","color1","setColor1","pass1","setPass1","valid1","setValid1","eye1","setEye1","visible1","setVisible1","color2","setColor2","Newpass2","setNewPass2","valid2","setValid2","eye2","setEye2","visible2","setVisible2","color3","setColor3","pass3","setPass3","valid3","setValid3","eye3","setEye3","visible3","setVisibl3","loading","setloading","reauthenticate","user","auth","currentUser","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","justifyContent","flex","changePassword","then","updatePassword","goBack","catch","showpass1","showpass2","showpass3","fontSize","marginTop","marginLeft","color","fontWeight","marginBottom","alignItems","width","height","require","paddingLeft","paddingRight","paddingBottom","borderBottomColor","borderBottomWidth","t2","navigate"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ActivityIndicator,\r\n  Image,\r\n  ScrollView\r\n} from \"react-native\";\r\nimport { useState } from \"react\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { Boton } from \"../../Style/Boton\";\r\nimport { NativeScreenNavigationContainer } from \"react-native-screens\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { firebase } from \"../firebaseConfig/Config\";\r\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\r\nexport const ChangePassword = ({ navigation }) => {\r\n  const [color1, setColor1] = useState(\"gray\");\r\n  const [pass1, setPass1] = useState(\"\");\r\n  const [valid1, setValid1] = useState(null);\r\n  const [eye1, setEye1] = useState(\"eye-off\");\r\n  const [visible1, setVisible1] = useState(true);\r\n\r\n  const [color2, setColor2] = useState(\"gray\");\r\n  const [Newpass2, setNewPass2] = useState(\"\");\r\n  const [valid2, setValid2] = useState(\"\");\r\n  const [eye2, setEye2] = useState(\"eye-off\");\r\n  const [visible2, setVisible2] = useState(true);\r\n\r\n  const [color3, setColor3] = useState(\"gray\");\r\n  const [pass3, setPass3] = useState(\"\");\r\n  const [valid3, setValid3] = useState(null);\r\n  const [eye3, setEye3] = useState(\"eye-off\");\r\n  const [visible3, setVisibl3] = useState(true);\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const reauthenticate = (pass1) => {\r\n    var user = firebase.auth().currentUser;\r\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, pass1);\r\n    return user.reauthenticateWithCredential(cred);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={{ justifyContent: \"center\", flex: 1 }}>\r\n        <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const changePassword = () => {\r\n    reauthenticate(pass1)\r\n      .then(() => {\r\n        var user = firebase.auth().currentUser;\r\n        user\r\n          .updatePassword(Newpass2)\r\n          .then(() => {\r\n            setloading(true);\r\n            // alert(\"Password updated!\");\r\n            if (pass1 == Newpass2) {\r\n              setloading(false);\r\n              setValid2(\"Used different password\");\r\n            } else {\r\n              navigation.goBack();\r\n              setloading(false);\r\n              ShowSuccess(\"Password update successfully.\");\r\n            }\r\n          })\r\n          .catch(() => {\r\n            if (Newpass2 == \"\") {\r\n              // setValid2(\"Enter new pasword\");\r\n              ShowError(\"Please enter new pasword\");\r\n              setloading(false);\r\n            } else {\r\n              //  setValid2(\"The password must be 6 characters long or more\");\r\n              ShowError(\"The password must be 6 characters long or more\");\r\n              setloading(false);\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        if (pass1 == \"\") {\r\n          // setValid1(\"need current password to change the password\");\r\n          ShowError(\"Please fill out all required fields\");\r\n          setloading(false);\r\n        } else {\r\n          setValid1(\"The current password is invalid\");\r\n          setloading(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  //   changeEmail = (currentPassword, newEmail) => {\r\n  //     this.reauthenticate(currentPassword).then(() => {\r\n  //       var user = firebase.auth().currentUser;\r\n  //       user.updateEmail(newEmail).then(() => {\r\n  //         console.log(\"Email updated!\");\r\n  //       }).catch((error) => { console.log(error); });\r\n  //     }).catch((error) => { console.log(error); });\r\n  //   }\r\n\r\n  const showpass1 = () => {\r\n    if (eye1 == \"eye-off\") {\r\n      setEye1(\"eye\");\r\n      setColor1(\"green\");\r\n      setVisible1(false);\r\n    } else if (eye1 == \"eye\") {\r\n      setEye1(\"eye-off\");\r\n      setColor1(\"gray\");\r\n      setVisible1(true);\r\n    }\r\n  };\r\n  const showpass2 = () => {\r\n    if (eye2 == \"eye-off\") {\r\n      setEye2(\"eye\");\r\n      setColor2(\"green\");\r\n      setVisible2(false);\r\n    } else if (eye2 == \"eye\") {\r\n      setEye2(\"eye-off\");\r\n      setColor2(\"gray\");\r\n      setVisible2(true);\r\n    }\r\n  };\r\n  const showpass3 = () => {\r\n    if (eye3 == \"eye-off\") {\r\n      setEye3(\"eye\");\r\n      setColor3(\"green\");\r\n      setVisibl3(false);\r\n    } else if (eye3 == \"eye\") {\r\n      setEye3(\"eye-off\");\r\n      setColor3(\"gray\");\r\n      setVisibl3(true);\r\n    }\r\n  };\r\n  return (\r\n\r\n    <ScrollView>\r\n      <Text\r\n        style={{\r\n          fontSize: 25,\r\n          marginTop: 40,\r\n          marginLeft: 15,\r\n          color: \"#1976d2\",\r\n          fontWeight: \"bold\",\r\n          marginBottom:40\r\n        }}\r\n      >\r\n        Change Password\r\n      </Text>\r\n      <View style={{ alignItems: \"center\" }}>\r\n      <Image\r\n        style={{ width: 90, height: 90,marginBottom:20}}\r\n        source={require(\"../../assets/EXtraUsepictures/email22.png\")}\r\n      />\r\n    </View>\r\n      <View\r\n        style={{\r\n          paddingLeft: 30,\r\n          paddingRight: 30,\r\n          paddingBottom: 30,\r\n          marginTop: 70,\r\n        }}\r\n      >\r\n        <TextInput\r\n          style={{\r\n            fontSize: 16,\r\n            color: \"black\",\r\n            borderBottomColor: pass1 == \"\" ? \"#ddd\" : \"green\",\r\n            borderBottomWidth: 1,\r\n            paddingBottom: 10,\r\n          }}\r\n          placeholder=\"Current Password\"\r\n          secureTextEntry={visible1}\r\n          onChangeText={(t2) => {\r\n            setPass1(t2);\r\n            setValid1(\"\");\r\n          }}\r\n        />\r\n\r\n        <View style={{ marginLeft: 285, marginTop: -35 }}>\r\n          <Ionicons onPress={showpass1} name={eye1} size={28} color={color1} />\r\n        </View>\r\n\r\n        <Text style={{ color: \"red\", marginTop: 5 }}>{valid1}</Text>\r\n      </View>\r\n      <View style={{ paddingLeft: 30, paddingRight: 30, paddingBottom: 30 }}>\r\n        <TextInput\r\n          style={{\r\n            fontSize: 16,\r\n            color: \"black\",\r\n            borderBottomColor: Newpass2 == \"\" ? \"#ddd\" : \"green\",\r\n            borderBottomWidth: 1,\r\n            paddingBottom: 10,\r\n          }}\r\n          placeholder=\"New Password\"\r\n          secureTextEntry={visible2}\r\n          onChangeText={(t2) => {\r\n            setNewPass2(t2);\r\n            setValid2(\"\");\r\n          }}\r\n        />\r\n\r\n        <View style={{ marginLeft: 285, marginTop: -35 }}>\r\n          <Ionicons onPress={showpass2} name={eye2} size={28} color={color2} />\r\n        </View>\r\n\r\n        <Text style={{ color: \"red\", marginTop: 6 }}>{valid2}</Text>\r\n      </View>\r\n      {/* <View style={{paddingLeft:30,paddingRight:30,paddingBottom:30}}>\r\n                <TextInput\r\n                style={{ fontSize: 16, color: 'black', borderBottomColor:pass3==\"\"?\"#ddd\":\"green\", borderBottomWidth:1,paddingBottom:10}}\r\n                    placeholder=\"Retype New Password\"\r\n                    secureTextEntry={visible3}\r\n                        onChangeText={t2 => {\r\n                            setPass3(t2)\r\n                            setValid3(\"\"); }}\r\n                />\r\n\r\n                <View style={{marginLeft:285,marginTop:-35}}>\r\n                    <Ionicons onPress={showpass3} name={eye3} size={28} color={color3} />\r\n                </View>\r\n                \r\n                    <Text style={{color:\"red\"}}>{valid3}</Text>\r\n            </View> */}\r\n      <View style={{ marginTop: 50, alignItems: \"center\" }}>\r\n        <Boton\r\n          widt={200}\r\n          height={30}\r\n          title={\"Update Password\"}\r\n          onPress={changePassword}\r\n        />\r\n      </View>\r\n      <TouchableOpacity\r\n        style={{\r\n          marginTop: 20,\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Text\r\n          style={{ color: \"blue\" }}\r\n          onPress={() => navigation.navigate(\"Forgot Password\")}\r\n        >\r\n          Forgot Password?\r\n        </Text>\r\n      </TouchableOpacity>\r\n      <View style={{height:300}}></View>\r\n    </ScrollView>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
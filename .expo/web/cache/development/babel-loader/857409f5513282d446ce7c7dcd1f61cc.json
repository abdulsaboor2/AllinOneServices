{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Toast, { DURATION } from \"react-native-easy-toast\";\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\nimport { firebase } from \"../firebaseConfig/Config\";\nimport { Button, SocialIcon } from \"react-native-elements\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var FeedBack = function FeedBack(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var id = route.params.id;\n\n  var _useState = useState(\"#eeeeee\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      bgColor1 = _useState2[0],\n      setBgColor1 = _useState2[1];\n\n  var _useState3 = useState(\"#eeeeee\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      bgColor2 = _useState4[0],\n      setBgColor2 = _useState4[1];\n\n  var _useState5 = useState(\"#eeeeee\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      bgColor3 = _useState6[0],\n      setBgColor3 = _useState6[1];\n\n  var _useState7 = useState(\"#eeeeee\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      bgColor4 = _useState8[0],\n      setBgColor4 = _useState8[1];\n\n  var _useState9 = useState(\"#eeeeee\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bgColor5 = _useState10[0],\n      setBgColor5 = _useState10[1];\n\n  var _useState11 = useState(\"#eeeeee\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      bgColor6 = _useState12[0],\n      setBgColor6 = _useState12[1];\n\n  var _useState13 = useState(\"#eeeeee\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      bgColor7 = _useState14[0],\n      setBgColor7 = _useState14[1];\n\n  var _useState15 = useState(\"#eeeeee\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      bgColor8 = _useState16[0],\n      setBgColor8 = _useState16[1];\n\n  var _useState17 = useState(\"#eeeeee\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bgColor9 = _useState18[0],\n      setBgColor9 = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      loading = _useState20[0],\n      setloading = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      Address = _useState22[0],\n      setAddress = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      phone = _useState24[0],\n      setPhone = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      lat = _useState26[0],\n      setLat = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      long = _useState28[0],\n      setLong = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      images = _useState30[0],\n      setImage = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      stars = _useState32[0],\n      setStars = _useState32[1];\n\n  var _useState33 = useState(\"\"),\n      _useState34 = _slicedToArray(_useState33, 2),\n      counter = _useState34[0],\n      setCounter = _useState34[1];\n\n  var _useState35 = useState(\"\"),\n      _useState36 = _slicedToArray(_useState35, 2),\n      skills = _useState36[0],\n      setSkills = _useState36[1];\n\n  var _useState37 = useState(\"\"),\n      _useState38 = _slicedToArray(_useState37, 2),\n      helperfullName = _useState38[0],\n      setHelperFullname = _useState38[1];\n\n  var _useState39 = useState(\"\"),\n      _useState40 = _slicedToArray(_useState39, 2),\n      helperemail = _useState40[0],\n      setHelperEmail = _useState40[1];\n\n  var _useState41 = useState(\"\"),\n      _useState42 = _slicedToArray(_useState41, 2),\n      dat = _useState42[0],\n      setDat = _useState42[1];\n\n  var store = [];\n\n  var _useState43 = useState(\"\"),\n      _useState44 = _slicedToArray(_useState43, 2),\n      comment = _useState44[0],\n      setComment = _useState44[1];\n\n  var userToken;\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"xyz\"));\n\n          case 2:\n            userToken = _context.sent;\n            console.log(\"hello its App\", userToken);\n            GetProfData();\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  });\n\n  var GetProfData = function GetProfData() {\n    firebase.firestore().collection(\"Helpers\").doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\").get().then(function (doc) {\n      if (doc.exists) {\n        var data = doc.data();\n        setHelperFullname(data.helperfullName);\n        setHelperEmail(data.helperemail);\n        setPhone(data.phone);\n        setAddress(data.Address);\n        setCounter(data.Counter);\n        setLat(data.lat);\n        setLong(data.long);\n        setSkills(data.skills);\n        setStars(data.stars);\n      } else {\n        console.log(\"No such document!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n\n  var updateUser = function updateUser(sum, avg, count) {\n    setloading(true);\n    firebase.firestore().collection(\"Helpers\").doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\").set({\n      helperfullName: helperfullName,\n      helperemail: helperemail,\n      phone: phone,\n      Address: Address,\n      lat: lat,\n      long: long,\n      skills: skills,\n      Counter: count,\n      stars: sum,\n      avg: avg\n    }).then(function (docRef) {\n      console.log(\"Update ok\" + docRef);\n    }).catch(function (error) {\n      console.error(\"Error: \", error);\n      setloading(false);\n    });\n  };\n\n  var dd = function dd() {\n    return _regeneratorRuntime.async(function dd$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            console.log(\"sss\");\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(fetch(\"http://192.168.10.5?q=\" + comment, {\n              method: \"GET\"\n            }).then(function (response) {\n              return response.json();\n            }).then(function (responseJson) {\n              var sum = Number(stars) + Number(responseJson);\n              var avrge = (sum / (Number(counter) + 1)).toFixed(3);\n              console.log(\"This is real average\", avrge);\n              console.log(\"res\" + responseJson);\n              setStars(sum);\n              setCounter(Number(counter) + 1);\n              var count = Number(counter) + 1;\n              updateUser(sum, avrge, count);\n              console.log(\"iiiiiiiii : \", avrge);\n              submit();\n            }).catch(function (error) {\n              console.error(error);\n            }));\n\n          case 4:\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"error  \" + _context2.t0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var submit = function submit() {\n    firebase.firestore().collection(\"Feedbacks\").doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\").set({\n      customerId: userToken,\n      HelperId: \"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\",\n      comment: comment,\n      stars: stars\n    }).then(function () {\n      console.log(store);\n      ShowSuccess(\"Thank you for your Feedback\");\n      return false;\n    }).catch(function (err) {\n      console.log(\"yeh  Err \" + err);\n    });\n  };\n\n  return _jsx(View, {\n    children: _jsxs(ScrollView, {\n      children: [_jsx(View, {\n        style: {\n          marginTop: 80\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 35,\n            marginLeft: 15,\n            color: \"#1976d2\",\n            fontWeight: \"bold\",\n            marginBottom: 20\n          },\n          children: \"Feedback\"\n        })\n      }), _jsx(View, {\n        style: {\n          marginTop: 20\n        },\n        children: _jsx(TextInput, {\n          style: styles.inputD,\n          placeholder: \"Write your word for our Helper?\",\n          multiline: true,\n          onChangeText: function onChangeText(t1) {\n            setComment(t1);\n          }\n        })\n      }), _jsx(Button, {\n        buttonStyle: styles.loginButton,\n        onPress: dd,\n        title: \"Submit\"\n      }), _jsx(View, {\n        style: {\n          height: 350\n        }\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  inputD: {\n    fontSize: 16,\n    color: \"black\",\n    borderWidth: 1,\n    padding: 10,\n    margin: 20,\n    height: 200,\n    borderRadius: 10,\n    borderColor: \"#aeaeae\",\n    paddingTop: 10\n  },\n  loginButton: {\n    backgroundColor: \"#3897f1\",\n    borderRadius: 5,\n    height: 45,\n    marginTop: 30,\n    width: 350,\n    alignItems: \"center\",\n    alignSelf: \"center\"\n  },\n  botonn: {\n    backgroundColor: \"green\",\n    borderRadius: 30,\n    width: 120,\n    height: 40,\n    alignSelf: \"center\",\n    alignContent: \"center\",\n    padding: 10,\n    marginTop: 50\n  }\n});","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/HomeScreen/FeedBack.js"],"names":["AsyncStorage","React","useEffect","useState","Toast","DURATION","ShowError","ShowSuccess","firebase","Button","SocialIcon","FeedBack","route","navigation","id","params","bgColor1","setBgColor1","bgColor2","setBgColor2","bgColor3","setBgColor3","bgColor4","setBgColor4","bgColor5","setBgColor5","bgColor6","setBgColor6","bgColor7","setBgColor7","bgColor8","setBgColor8","bgColor9","setBgColor9","loading","setloading","Address","setAddress","phone","setPhone","lat","setLat","long","setLong","images","setImage","stars","setStars","counter","setCounter","skills","setSkills","helperfullName","setHelperFullname","helperemail","setHelperEmail","dat","setDat","store","comment","setComment","userToken","getItem","console","log","GetProfData","firestore","collection","doc","get","then","exists","data","Counter","catch","error","updateUser","sum","avg","count","set","docRef","dd","fetch","method","response","json","responseJson","Number","avrge","toFixed","submit","customerId","HelperId","err","marginTop","fontSize","marginLeft","color","fontWeight","marginBottom","styles","inputD","t1","loginButton","height","StyleSheet","create","borderWidth","padding","margin","borderRadius","borderColor","paddingTop","backgroundColor","width","alignItems","alignSelf","botonn","alignContent"],"mappings":"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","sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport Toast, { DURATION } from \"react-native-easy-toast\";\r\nimport { ShowError, ShowSuccess } from \"../../Style/ErrorMessage\";\r\nimport { firebase } from \"../firebaseConfig/Config\";\r\nimport { Button, SocialIcon } from \"react-native-elements\";\r\n\r\nexport const FeedBack = ({ route, navigation }) => {\r\n   const { id } = route.params;\r\n\r\n  const [bgColor1, setBgColor1] = useState(\"#eeeeee\");\r\n  const [bgColor2, setBgColor2] = useState(\"#eeeeee\");\r\n  const [bgColor3, setBgColor3] = useState(\"#eeeeee\");\r\n  const [bgColor4, setBgColor4] = useState(\"#eeeeee\");\r\n  const [bgColor5, setBgColor5] = useState(\"#eeeeee\");\r\n  const [bgColor6, setBgColor6] = useState(\"#eeeeee\");\r\n  const [bgColor7, setBgColor7] = useState(\"#eeeeee\");\r\n  const [bgColor8, setBgColor8] = useState(\"#eeeeee\");\r\n  const [bgColor9, setBgColor9] = useState(\"#eeeeee\");\r\n\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const [Address, setAddress] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [lat, setLat] = useState(\"\");\r\n  const [long, setLong] = useState(\"\");\r\n  const [images, setImage] = useState(\"\");\r\n  const [stars, setStars] = useState(\"\");\r\n  const [counter, setCounter] = useState(\"\");\r\n  const [skills, setSkills] = useState(\"\");\r\n\r\n  const [helperfullName, setHelperFullname] = useState(\"\");\r\n  const [helperemail, setHelperEmail] = useState(\"\");\r\n\r\n  const [dat, setDat] = useState(\"\");\r\n\r\n  const store = [];\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  let userToken;\r\n  useEffect(async () => {\r\n    userToken = await AsyncStorage.getItem(\"xyz\");\r\n    console.log(\"hello its App\", userToken);\r\n    GetProfData();\r\n  });\r\n\r\n  const GetProfData = () => {\r\n    // console.log(userToken);\r\n    firebase\r\n      .firestore()\r\n      .collection(\"Helpers\")\r\n      .doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\")\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          // console.log(\"Document data:\", doc.data());\r\n          const data = doc.data();\r\n          //  setToken(data)\r\n\r\n          setHelperFullname(data.helperfullName);\r\n          setHelperEmail(data.helperemail);\r\n          setPhone(data.phone);\r\n          setAddress(data.Address);\r\n          setCounter(data.Counter);\r\n          setLat(data.lat);\r\n          setLong(data.long);\r\n          setSkills(data.skills);\r\n          setStars(data.stars);\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  };\r\n\r\n  const updateUser = (sum, avg, count) => {\r\n    setloading(true);\r\n    firebase\r\n      .firestore()\r\n      .collection(\"Helpers\")\r\n      .doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\")\r\n      .set({\r\n        helperfullName: helperfullName,\r\n        helperemail: helperemail,\r\n        phone: phone,\r\n        Address: Address,\r\n        lat: lat,\r\n        long: long,\r\n        skills: skills,\r\n        Counter: count,\r\n        stars: sum,\r\n        avg: avg,\r\n      })\r\n      .then((docRef) => {\r\n        console.log(\"Update ok\" + docRef);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error: \", error);\r\n        setloading(false);\r\n      });\r\n  };\r\n\r\n  const dd = async () => {\r\n    try {\r\n      console.log(\"sss\");\r\n      await fetch(\"http://192.168.10.5?q=\" + comment, {\r\n        method: \"GET\",\r\n      })\r\n        .then((response) => response.json())\r\n        .then((responseJson) => {\r\n          let sum = Number(stars) + Number(responseJson);\r\n          let avrge = (sum / (Number(counter) + 1)).toFixed(3);\r\n          console.log(\"This is real average\", avrge);\r\n          console.log(\"res\" + responseJson);\r\n          setStars(sum);\r\n          setCounter(Number(counter) + 1);\r\n          let count = Number(counter) + 1;\r\n          updateUser(sum, avrge, count);\r\n          console.log(\"iiiiiiiii : \", avrge);\r\n          submit();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n\r\n      //   console.log(\"jsons\"+ resp)\r\n      //   const dat = resp.json();\r\n      //   setDat(dat)\r\n      //   console.log(\"yeh hai dat \" + dat.sentiment)\r\n    } catch (err) {\r\n      console.log(\"error  \" + err);\r\n    }\r\n  };\r\n\r\n  const submit = () => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"Feedbacks\")\r\n      .doc(\"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\")\r\n      .set({\r\n        customerId: userToken,\r\n        HelperId: \"EaFvqAr3FCR2ATIqBHrKqnH3KiM2\",\r\n        comment,\r\n        stars,\r\n      })\r\n      .then(() => {\r\n        console.log(store);\r\n        ShowSuccess(\"Thank you for your Feedback\");\r\n        //   navigation.replace('pay');\r\n        return false;\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"yeh  Err \" + err);\r\n      });\r\n  };\r\n  \r\n\r\n  return (\r\n    <View>\r\n      <ScrollView>\r\n        <View style={{ marginTop: 80 }}>\r\n          <Text\r\n            style={{\r\n              fontSize: 35,\r\n              marginLeft: 15,\r\n              color: \"#1976d2\",\r\n              fontWeight: \"bold\",\r\n              marginBottom: 20,\r\n            }}\r\n          >\r\n            Feedback\r\n          </Text>\r\n        </View>\r\n        <View style={{ marginTop: 20 }}>\r\n          <TextInput\r\n            style={styles.inputD}\r\n            placeholder=\"Write your word for our Helper?\"\r\n            multiline={true}\r\n            onChangeText={(t1) => {\r\n              setComment(t1);\r\n            }}\r\n          />\r\n        </View>\r\n\r\n        <Button buttonStyle={styles.loginButton} onPress={dd} title=\"Submit\" />\r\n        <View style={{ height: 350 }}></View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  inputD: {\r\n    fontSize: 16,\r\n    color: \"black\",\r\n    borderWidth: 1,\r\n    padding: 10,\r\n    margin: 20,\r\n    height: 200,\r\n    borderRadius: 10,\r\n    borderColor: \"#aeaeae\",\r\n    paddingTop: 10,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: \"#3897f1\",\r\n    borderRadius: 5,\r\n    height: 45,\r\n    marginTop: 30,\r\n    width: 350,\r\n    alignItems: \"center\",\r\n    alignSelf: \"center\",\r\n  },\r\n  botonn: {\r\n    backgroundColor: \"green\",\r\n    borderRadius: 30,\r\n    width: 120,\r\n    height: 40,\r\n    alignSelf: \"center\",\r\n    alignContent: \"center\",\r\n    padding: 10,\r\n    marginTop: 50,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { useState } from 'react';\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Boton } from \"../Style/Boton\";\nimport { NativeScreenNavigationContainer } from 'react-native-screens';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { firebase } from \"./Config\";\nimport { ShowError, ShowSuccess } from \"../Style/ErrorMessage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var ChangePassword = function ChangePassword(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState('gray'),\n      _useState2 = _slicedToArray(_useState, 2),\n      color1 = _useState2[0],\n      setColor1 = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass1 = _useState4[0],\n      setPass1 = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      valid1 = _useState6[0],\n      setValid1 = _useState6[1];\n\n  var _useState7 = useState(\"eye-off\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      eye1 = _useState8[0],\n      setEye1 = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      visible1 = _useState10[0],\n      setVisible1 = _useState10[1];\n\n  var _useState11 = useState('gray'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      color2 = _useState12[0],\n      setColor2 = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Newpass2 = _useState14[0],\n      setNewPass2 = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      valid2 = _useState16[0],\n      setValid2 = _useState16[1];\n\n  var _useState17 = useState(\"eye-off\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      eye2 = _useState18[0],\n      setEye2 = _useState18[1];\n\n  var _useState19 = useState(true),\n      _useState20 = _slicedToArray(_useState19, 2),\n      visible2 = _useState20[0],\n      setVisible2 = _useState20[1];\n\n  var _useState21 = useState('gray'),\n      _useState22 = _slicedToArray(_useState21, 2),\n      color3 = _useState22[0],\n      setColor3 = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      pass3 = _useState24[0],\n      setPass3 = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      valid3 = _useState26[0],\n      setValid3 = _useState26[1];\n\n  var _useState27 = useState(\"eye-off\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      eye3 = _useState28[0],\n      setEye3 = _useState28[1];\n\n  var _useState29 = useState(true),\n      _useState30 = _slicedToArray(_useState29, 2),\n      visible3 = _useState30[0],\n      setVisibl3 = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      loading = _useState32[0],\n      setloading = _useState32[1];\n\n  var reauthenticate = function reauthenticate(pass1) {\n    var user = firebase.auth().currentUser;\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, pass1);\n    return user.reauthenticateWithCredential(cred);\n  };\n\n  if (loading) {\n    return _jsx(View, {\n      style: {\n        justifyContent: 'center',\n        flex: 1\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#00ff00\"\n      })\n    });\n  }\n\n  var changePassword = function changePassword() {\n    reauthenticate(pass1).then(function () {\n      var user = firebase.auth().currentUser;\n      user.updatePassword(Newpass2).then(function () {\n        setloading(true);\n\n        if (pass1 == Newpass2) {\n          setloading(false);\n          setValid2(\"Used different password\");\n        } else {\n          navigation.goBack();\n          setloading(false);\n          ShowSuccess('Password update successfully.');\n        }\n      }).catch(function () {\n        if (Newpass2 == \"\") {\n          ShowError(\"Please enter new pasword\");\n          setloading(false);\n        } else {\n          ShowError('The password must be 6 characters long or more');\n          setloading(false);\n        }\n      });\n    }).catch(function () {\n      if (pass1 == \"\") {\n        ShowError(\"Please fill out all required fields\");\n        setloading(false);\n      } else {\n        setValid1(\"The current password is invalid\");\n        setloading(false);\n      }\n    });\n  };\n\n  var showpass1 = function showpass1() {\n    if (eye1 == \"eye-off\") {\n      setEye1(\"eye\");\n      setColor1(\"green\");\n      setVisible1(false);\n    } else if (eye1 == \"eye\") {\n      setEye1(\"eye-off\");\n      setColor1(\"gray\");\n      setVisible1(true);\n    }\n  };\n\n  var showpass2 = function showpass2() {\n    if (eye2 == \"eye-off\") {\n      setEye2(\"eye\");\n      setColor2(\"green\");\n      setVisible2(false);\n    } else if (eye2 == \"eye\") {\n      setEye2(\"eye-off\");\n      setColor2(\"gray\");\n      setVisible2(true);\n    }\n  };\n\n  var showpass3 = function showpass3() {\n    if (eye3 == \"eye-off\") {\n      setEye3(\"eye\");\n      setColor3(\"green\");\n      setVisibl3(false);\n    } else if (eye3 == \"eye\") {\n      setEye3(\"eye-off\");\n      setColor3(\"gray\");\n      setVisibl3(true);\n    }\n  };\n\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 25,\n        marginTop: 40,\n        marginLeft: 15,\n        color: \"#1976d2\",\n        fontWeight: \"bold\"\n      },\n      children: \"Change Password\"\n    }), _jsxs(View, {\n      style: {\n        paddingLeft: 30,\n        paddingRight: 30,\n        paddingBottom: 30,\n        marginTop: 70\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: 'black',\n          borderBottomColor: pass1 == \"\" ? \"#ddd\" : \"green\",\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"Current Password\",\n        secureTextEntry: visible1,\n        onChangeText: function onChangeText(t2) {\n          setPass1(t2);\n          setValid1(\"\");\n        }\n      }), _jsx(View, {\n        style: {\n          marginLeft: 285,\n          marginTop: -35\n        },\n        children: _jsx(Ionicons, {\n          onPress: showpass1,\n          name: eye1,\n          size: 28,\n          color: color1\n        })\n      }), _jsx(Text, {\n        style: {\n          color: \"red\",\n          marginTop: 5\n        },\n        children: valid1\n      })]\n    }), _jsxs(View, {\n      style: {\n        paddingLeft: 30,\n        paddingRight: 30,\n        paddingBottom: 30\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: 'black',\n          borderBottomColor: Newpass2 == \"\" ? \"#ddd\" : \"green\",\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"New Password\",\n        secureTextEntry: visible2,\n        onChangeText: function onChangeText(t2) {\n          setNewPass2(t2);\n          setValid2(\"\");\n        }\n      }), _jsx(View, {\n        style: {\n          marginLeft: 285,\n          marginTop: -35\n        },\n        children: _jsx(Ionicons, {\n          onPress: showpass2,\n          name: eye2,\n          size: 28,\n          color: color2\n        })\n      }), _jsx(Text, {\n        style: {\n          color: \"red\",\n          marginTop: 6\n        },\n        children: valid2\n      })]\n    }), _jsx(View, {\n      style: {\n        marginTop: 50,\n        alignItems: 'center'\n      },\n      children: _jsx(Boton, {\n        widt: 200,\n        height: 30,\n        title: \"Update Password\",\n        onPress: changePassword\n      })\n    }), _jsx(TouchableOpacity, {\n      style: {\n        marginTop: 20,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: _jsx(Text, {\n        style: {\n          color: \"blue\"\n        },\n        onPress: function onPress() {\n          return navigation.navigate(\"Forgot Password\");\n        },\n        children: \"Forgot Password?\"\n      })\n    })]\n  });\n};","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/ChangePassword.js"],"names":["React","useState","Ionicons","Boton","NativeScreenNavigationContainer","AsyncStorage","firebase","ShowError","ShowSuccess","ChangePassword","navigation","color1","setColor1","pass1","setPass1","valid1","setValid1","eye1","setEye1","visible1","setVisible1","color2","setColor2","Newpass2","setNewPass2","valid2","setValid2","eye2","setEye2","visible2","setVisible2","color3","setColor3","pass3","setPass3","valid3","setValid3","eye3","setEye3","visible3","setVisibl3","loading","setloading","reauthenticate","user","auth","currentUser","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","justifyContent","flex","changePassword","then","updatePassword","goBack","catch","showpass1","showpass2","showpass3","fontSize","marginTop","marginLeft","color","fontWeight","paddingLeft","paddingRight","paddingBottom","borderBottomColor","borderBottomWidth","t2","alignItems","navigate"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { View, Text,TouchableOpacity, TextInput,ActivityIndicator } from 'react-native';\r\nimport { useState } from 'react';\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { Boton } from '../Style/Boton';\r\nimport { NativeScreenNavigationContainer } from 'react-native-screens';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { firebase } from './Config';\r\nimport { ShowError, ShowSuccess } from '../Style/ErrorMessage';\r\nexport const ChangePassword = ({navigation}) => {\r\n    const [color1,setColor1]=useState('gray');\r\n    const [pass1, setPass1] = useState(\"\");\r\n    const [valid1, setValid1] = useState(null);\r\n    const [eye1, setEye1] = useState(\"eye-off\");\r\n    const [visible1, setVisible1] = useState(true);\r\n\r\n    const [color2,setColor2]=useState('gray');\r\n    const [Newpass2, setNewPass2] = useState(\"\");\r\n    const [valid2, setValid2] = useState(\"\");\r\n    const [eye2, setEye2] = useState(\"eye-off\");\r\n    const [visible2, setVisible2] = useState(true);\r\n\r\n    const [color3,setColor3]=useState('gray');\r\n    const [pass3, setPass3] = useState(\"\");\r\n    const [valid3, setValid3] = useState(null);\r\n    const [eye3, setEye3] = useState(\"eye-off\");\r\n    const [visible3, setVisibl3] = useState(true);\r\n    const [loading, setloading] = useState(false);\r\n\r\n  const  reauthenticate = (pass1) => {\r\n        var user = firebase.auth().currentUser;\r\n        var cred = firebase.auth.EmailAuthProvider.credential(\r\n            user.email,pass1);\r\n        return user.reauthenticateWithCredential(cred);\r\n    }\r\n    \r\n    if (loading) {\r\n        return <View style={{ justifyContent: 'center',flex:1 }}>\r\n        <ActivityIndicator size=\"large\" color=\"#00ff00\"  />\r\n        </View>\r\n    }\r\n      \r\n    const changePassword = () => {\r\n        \r\n        reauthenticate(pass1).then(() => {\r\n            \r\n          var user = firebase.auth().currentUser;\r\n            user.updatePassword(Newpass2).then(() => {\r\n                setloading(true);\r\n             // alert(\"Password updated!\");\r\n              if (pass1 == Newpass2) {\r\n\r\n                setloading(false);\r\n                  setValid2(\"Used different password\");\r\n                  \r\n              } else {\r\n                  \r\n                  navigation.goBack();\r\n                  setloading(false);\r\n                  ShowSuccess('Password update successfully.')\r\n                  \r\n              }\r\n          }).catch(() => {\r\n            if (Newpass2 == \"\") {\r\n               // setValid2(\"Enter new pasword\");\r\n                ShowError(\"Please enter new pasword\")\r\n                setloading(false);\r\n               \r\n            } else {\r\n              //  setValid2(\"The password must be 6 characters long or more\");\r\n                ShowError('The password must be 6 characters long or more')\r\n                setloading(false);\r\n                \r\n            }\r\n              \r\n          });\r\n        }).catch(() => {\r\n            if (pass1 == \"\") {\r\n               // setValid1(\"need current password to change the password\");\r\n                ShowError(\"Please fill out all required fields\")\r\n                setloading(false);\r\n                \r\n            }else {\r\n                setValid1(\"The current password is invalid\");\r\n                setloading(false);\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n    //   changeEmail = (currentPassword, newEmail) => {\r\n    //     this.reauthenticate(currentPassword).then(() => {\r\n    //       var user = firebase.auth().currentUser;\r\n    //       user.updateEmail(newEmail).then(() => {\r\n    //         console.log(\"Email updated!\");\r\n    //       }).catch((error) => { console.log(error); });\r\n    //     }).catch((error) => { console.log(error); });\r\n    //   }\r\n      \r\n    \r\n    \r\n      \r\n    const showpass1 = () => {\r\n        if (eye1 == \"eye-off\"){\r\n          setEye1(\"eye\")\r\n            setColor1(\"green\")\r\n            setVisible1(false)\r\n        }else if(eye1==\"eye\"){\r\n          setEye1(\"eye-off\")\r\n            setColor1(\"gray\")\r\n            setVisible1(true)\r\n        }\r\n    }\r\n    const showpass2 = () => {\r\n        if (eye2 == \"eye-off\"){\r\n          setEye2(\"eye\")\r\n            setColor2(\"green\")\r\n            setVisible2(false)\r\n        }else if(eye2==\"eye\"){\r\n          setEye2(\"eye-off\")\r\n            setColor2(\"gray\")\r\n            setVisible2(true)\r\n        }\r\n    }\r\n    const showpass3 = () => {\r\n        if (eye3 == \"eye-off\"){\r\n          setEye3(\"eye\")\r\n            setColor3(\"green\")\r\n            setVisibl3(false)\r\n        }else if(eye3==\"eye\"){\r\n          setEye3(\"eye-off\")\r\n            setColor3(\"gray\")\r\n            setVisibl3(true)\r\n        }\r\n      }\r\n    return (\r\n        <View>\r\n            <Text style={{fontSize: 25,marginTop:40,marginLeft:15, color:\"#1976d2\",fontWeight:\"bold\"}}>Change Password</Text>\r\n            <View style={{paddingLeft:30,paddingRight:30,paddingBottom:30,marginTop:70}}>\r\n                <TextInput\r\n                style={{ fontSize: 16, color: 'black', borderBottomColor:pass1==\"\"?\"#ddd\":\"green\", borderBottomWidth:1,paddingBottom:10}}\r\n                    placeholder=\"Current Password\"\r\n                    secureTextEntry={visible1}\r\n                        onChangeText={t2 => {\r\n                            setPass1(t2)\r\n                            setValid1(\"\"); }}\r\n                />\r\n\r\n                <View style={{marginLeft:285,marginTop:-35}}>\r\n                    <Ionicons onPress={showpass1} name={eye1} size={28} color={color1} />\r\n                </View>\r\n                \r\n                    <Text style={{color:\"red\",marginTop:5}}>{valid1}</Text>\r\n            </View>\r\n            <View style={{paddingLeft:30,paddingRight:30,paddingBottom:30}}>\r\n                <TextInput\r\n                style={{ fontSize: 16, color: 'black', borderBottomColor:Newpass2==\"\"?\"#ddd\":\"green\", borderBottomWidth:1,paddingBottom:10}}\r\n                    placeholder=\"New Password\"\r\n                    secureTextEntry={visible2}\r\n                        onChangeText={t2 => {\r\n                            setNewPass2(t2)\r\n                            setValid2(\"\"); }}\r\n                />\r\n\r\n                <View style={{marginLeft:285,marginTop:-35}}>\r\n                    <Ionicons onPress={showpass2} name={eye2} size={28} color={color2} />\r\n                </View>\r\n                \r\n                    <Text style={{color:\"red\",marginTop:6}}>{valid2}</Text>\r\n            </View>\r\n            {/* <View style={{paddingLeft:30,paddingRight:30,paddingBottom:30}}>\r\n                <TextInput\r\n                style={{ fontSize: 16, color: 'black', borderBottomColor:pass3==\"\"?\"#ddd\":\"green\", borderBottomWidth:1,paddingBottom:10}}\r\n                    placeholder=\"Retype New Password\"\r\n                    secureTextEntry={visible3}\r\n                        onChangeText={t2 => {\r\n                            setPass3(t2)\r\n                            setValid3(\"\"); }}\r\n                />\r\n\r\n                <View style={{marginLeft:285,marginTop:-35}}>\r\n                    <Ionicons onPress={showpass3} name={eye3} size={28} color={color3} />\r\n                </View>\r\n                \r\n                    <Text style={{color:\"red\"}}>{valid3}</Text>\r\n            </View> */}\r\n            <View  style={{marginTop:50,alignItems:'center'}}>\r\n                <Boton widt={200} height={30} title={\"Update Password\"} onPress={changePassword} />\r\n            </View>\r\n            <TouchableOpacity style={{ marginTop: 20,justifyContent:'center',alignItems:'center' }}\r\n                >\r\n                    <Text style={{color:\"blue\"}} onPress={()=>navigation.navigate(\"Forgot Password\")}>Forgot Password?</Text>\r\n                </TouchableOpacity>\r\n      </View>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebView = undefined;\nvar _jsxFileName = 'src/index.js';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _qs = require('qs');\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar WebView = exports.WebView = function (_Component) {\n  _inherits(WebView, _Component);\n\n  function WebView(props) {\n    _classCallCheck(this, WebView);\n\n    var _this = _possibleConstructorReturn(this, (WebView.__proto__ || Object.getPrototypeOf(WebView)).call(this, props));\n\n    _this.state = {\n      html: null\n    };\n\n    _this.setRef = function (ref) {\n      return _this.frameRef = ref;\n    };\n\n    _this.handleSource = function (source, newWindow) {\n      if (!source.method) return;\n\n      if (newWindow) {\n        _this.handleSourceInNewWindow(source, newWindow);\n      } else {\n        _this.handleSourceInIFrame(source);\n      }\n    };\n\n    _this.handleSourceInIFrame = function (source) {\n      var uri = source.uri,\n          options = _objectWithoutProperties(source, ['uri']);\n\n      var baseUrl = uri.substr(0, uri.lastIndexOf('/') + 1);\n      fetch(uri, options).then(function (response) {\n        return response.text();\n      }).then(function (html) {\n        return _this.setState({\n          html: '<base href=\"' + baseUrl + '\" />' + html\n        });\n      });\n    };\n\n    _this.handleSourceInNewWindow = function (source, newWindow) {\n      if (source.method === 'POST') {\n        var contentType = source.headers['Content-Type'];\n        var body = '';\n\n        if (contentType && contentType.includes('application/x-www-form-urlencoded')) {\n          body = _qs2.default.parse(source.body);\n        } else {\n          console.warn('[WebView] When opening a new window, this content-type is not supported yet, please make a PR!', contentType);\n          return;\n        }\n\n        window.open(require(\"./postMock.html\") + '?' + _qs2.default.stringify({\n          uri: source.uri,\n          body: JSON.stringify(body)\n        }), newWindow.name || 'webview', newWindow.features || undefined);\n      } else {\n        console.warn('[WebView] When opening a new window, this method is not supported yet, please make a PR!', source.method);\n      }\n    };\n\n    _this.onMessage = function (nativeEvent) {\n      return _this.props.onMessage({\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.postMessage = function (message, origin) {\n      _this.frameRef.contentWindow.postMessage(message, origin);\n    };\n\n    _this.handleInjectedJavaScript = function (html) {\n      if (_this.props.injectedJavaScript) {\n        if (html) {\n          return html.replace('</body>', '<script>' + _this.props.injectedJavaScript + '</script></body>');\n        } else {\n          return html;\n        }\n      } else {\n        return html;\n      }\n    };\n\n    _this.handleSource(props.source, props.newWindow);\n\n    return _this;\n  }\n\n  _createClass(WebView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.onMessage) {\n        window.addEventListener('message', this.onMessage, true);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.source.uri !== nextProps.source.uri || this.props.source.method !== nextProps.source.method || this.props.source.body !== nextProps.source.body) {\n        this.handleSource(nextProps.source, nextProps.newWindow);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.onMessage) {\n        window.removeEventListener('message', this.onMessage, true);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.newWindow) {\n        return _react2.default.createElement(_reactNative.View, {\n          style: styles.loadingContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          }\n        }, _react2.default.createElement(_reactNative.ActivityIndicator, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          }\n        }));\n      }\n\n      var _props = this.props,\n          title = _props.title,\n          source = _props.source,\n          onLoad = _props.onLoad,\n          scrollEnabled = _props.scrollEnabled;\n\n      var styleObj = _reactNative.StyleSheet.flatten(this.props.style);\n\n      return (0, _reactNative.unstable_createElement)('iframe', {\n        title: title,\n        ref: this.setRef,\n        src: !source.method ? source.uri : undefined,\n        srcDoc: this.handleInjectedJavaScript(this.state.html || source.html),\n        width: styleObj && styleObj.width,\n        height: styleObj && styleObj.height,\n        style: _reactNative.StyleSheet.flatten([styles.iframe, scrollEnabled && styles.noScroll, this.props.style]),\n        allowFullScreen: true,\n        allowpaymentrequest: 'true',\n        frameBorder: '0',\n        seamless: true,\n        onLoad: onLoad\n      });\n    }\n  }]);\n\n  return WebView;\n}(_react.Component);\n\nWebView.defaultProps = {\n  scrollEnabled: true\n};\nexports.default = WebView;\n\nvar styles = _reactNative.StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  iframe: {\n    width: '100%',\n    height: '100%',\n    borderWidth: 0\n  },\n  noScroll: {\n    overflow: 'hidden'\n  }\n});","map":{"version":3,"sources":["C:/Users/USER/signupp/node_modules/react-native-web-webview/dist/index.js"],"names":["Object","defineProperty","exports","value","WebView","undefined","_jsxFileName","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_qs","require","_qs2","_interopRequireDefault","_react","_react2","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","hasOwnProperty","call","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_Component","_this","getPrototypeOf","state","html","setRef","ref","frameRef","handleSource","source","newWindow","method","handleSourceInNewWindow","handleSourceInIFrame","uri","options","baseUrl","substr","lastIndexOf","fetch","then","response","text","setState","contentType","headers","body","includes","parse","console","warn","window","open","stringify","JSON","name","features","onMessage","nativeEvent","postMessage","message","origin","contentWindow","handleInjectedJavaScript","injectedJavaScript","replace","componentDidMount","addEventListener","componentWillReceiveProps","nextProps","componentWillUnmount","removeEventListener","render","createElement","_reactNative","View","style","styles","loadingContainer","__source","fileName","lineNumber","ActivityIndicator","_props","title","onLoad","scrollEnabled","styleObj","StyleSheet","flatten","unstable_createElement","src","srcDoc","width","height","iframe","noScroll","allowFullScreen","allowpaymentrequest","frameBorder","seamless","Component","defaultProps","flex","alignItems","justifyContent","borderWidth","overflow"],"mappings":"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","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});exports.WebView=undefined;var _jsxFileName='src/index.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _qs=require('qs');var _qs2=_interopRequireDefault(_qs);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var WebView=exports.WebView=function(_Component){_inherits(WebView,_Component);function WebView(props){_classCallCheck(this,WebView);var _this=_possibleConstructorReturn(this,(WebView.__proto__||Object.getPrototypeOf(WebView)).call(this,props));_this.state={html:null};_this.setRef=function(ref){return _this.frameRef=ref;};_this.handleSource=function(source,newWindow){if(!source.method)return;if(newWindow){_this.handleSourceInNewWindow(source,newWindow);}else{_this.handleSourceInIFrame(source);}};_this.handleSourceInIFrame=function(source){var uri=source.uri,options=_objectWithoutProperties(source,['uri']);var baseUrl=uri.substr(0,uri.lastIndexOf('/')+1);fetch(uri,options).then(function(response){return response.text();}).then(function(html){return _this.setState({html:'<base href=\"'+baseUrl+'\" />'+html});});};_this.handleSourceInNewWindow=function(source,newWindow){if(source.method==='POST'){var contentType=source.headers['Content-Type'];var body='';if(contentType&&contentType.includes('application/x-www-form-urlencoded')){body=_qs2.default.parse(source.body);}else{console.warn('[WebView] When opening a new window, this content-type is not supported yet, please make a PR!',contentType);return;}window.open(require('./postMock.html')+'?'+_qs2.default.stringify({uri:source.uri,body:JSON.stringify(body)}),newWindow.name||'webview',newWindow.features||undefined);}else{console.warn('[WebView] When opening a new window, this method is not supported yet, please make a PR!',source.method);}};_this.onMessage=function(nativeEvent){return _this.props.onMessage({nativeEvent:nativeEvent});};_this.postMessage=function(message,origin){_this.frameRef.contentWindow.postMessage(message,origin);};_this.handleInjectedJavaScript=function(html){if(_this.props.injectedJavaScript){if(html){return html.replace('</body>','<script>'+_this.props.injectedJavaScript+'</script></body>');}else{return html;}}else{return html;}};_this.handleSource(props.source,props.newWindow);return _this;}_createClass(WebView,[{key:'componentDidMount',value:function componentDidMount(){if(this.props.onMessage){window.addEventListener('message',this.onMessage,true);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.source.uri!==nextProps.source.uri||this.props.source.method!==nextProps.source.method||this.props.source.body!==nextProps.source.body){this.handleSource(nextProps.source,nextProps.newWindow);}}},{key:'componentWillUnmount',value:function componentWillUnmount(){if(this.props.onMessage){window.removeEventListener('message',this.onMessage,true);}}},{key:'render',value:function render(){if(this.props.newWindow){return _react2.default.createElement(_reactNative.View,{style:styles.loadingContainer,__source:{fileName:_jsxFileName,lineNumber:112}},_react2.default.createElement(_reactNative.ActivityIndicator,{__source:{fileName:_jsxFileName,lineNumber:113}}));}var _props=this.props,title=_props.title,source=_props.source,onLoad=_props.onLoad,scrollEnabled=_props.scrollEnabled;var styleObj=_reactNative.StyleSheet.flatten(this.props.style);return(0,_reactNative.unstable_createElement)('iframe',{title:title,ref:this.setRef,src:!source.method?source.uri:undefined,srcDoc:this.handleInjectedJavaScript(this.state.html||source.html),width:styleObj&&styleObj.width,height:styleObj&&styleObj.height,style:_reactNative.StyleSheet.flatten([styles.iframe,scrollEnabled&&styles.noScroll,this.props.style]),allowFullScreen:true,allowpaymentrequest:'true',frameBorder:'0',seamless:true,onLoad:onLoad});}}]);return WebView;}(_react.Component);WebView.defaultProps={scrollEnabled:true};exports.default=WebView;var styles=_reactNative.StyleSheet.create({loadingContainer:{flex:1,alignItems:'center',justifyContent:'center'},iframe:{width:'100%',height:'100%',borderWidth:0},noScroll:{overflow:'hidden'}});"]},"metadata":{},"sourceType":"script"}
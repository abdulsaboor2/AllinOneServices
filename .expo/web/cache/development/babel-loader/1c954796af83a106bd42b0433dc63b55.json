{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { RoundedButton } from \"../../Style/RoundedButton\";\nimport { Boton } from \"../../Style/Boton\";\nimport { useState } from \"react\";\nimport { firebase } from \"../firebaseConfig/Config\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Dispatch } from \"react\";\nimport { useEffect } from \"react\";\nimport { ShowError } from \"../../Style/ErrorMessage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass = _useState4[0],\n      setPass = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      valid1 = _useState6[0],\n      setValid1 = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      valid2 = _useState8[0],\n      setValid2 = _useState8[1];\n\n  var _useState9 = useState('gray'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      color = _useState10[0],\n      setColor = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      loading = _useState12[0],\n      setloading = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isValid = _useState14[0],\n      setIsValid = _useState14[1];\n\n  var _useState15 = useState(\"eye-off\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      eye = _useState16[0],\n      setEye = _useState16[1];\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      visible = _useState18[0],\n      setVisible = _useState18[1];\n\n  var emailRegex = /\\S+@\\S+\\.\\S+/;\n  useEffect(function _callee() {\n    var userToken;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('xyz'));\n\n          case 2:\n            userToken = _context.sent;\n            console.log(\"hello its Login\", userToken);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  });\n\n  var showpass = function showpass() {\n    if (eye == \"eye-off\") {\n      setEye(\"eye\");\n      setColor(\"green\");\n      setVisible(false);\n    } else if (eye == \"eye\") {\n      setEye(\"eye-off\");\n      setColor(\"gray\");\n      setVisible(true);\n    }\n  };\n\n  if (loading) {\n    return _jsx(View, {\n      style: {\n        justifyContent: 'center',\n        flex: 1\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#00ff00\"\n      })\n    });\n  }\n\n  var validateEmail = function validateEmail() {\n    if (emailRegex.test(email)) {\n      setIsValid(true);\n    } else {\n      setIsValid(false);\n      setValid1('Please enter a valid email!');\n    }\n  };\n\n  var signValidation = function signValidation() {\n    if (email == \"\" && pass == \"\") {\n      ShowError('please fill out all required fields');\n      return false;\n    }\n\n    if (email == \"\") {\n      ShowError('Please enter your email');\n      return false;\n    }\n\n    if (pass == \"\") {\n      ShowError('Please inter your Password');\n      return false;\n    } else {\n      try {\n        setloading(true);\n        firebase.auth().signInWithEmailAndPassword(email, pass).then(function (response) {\n          var uid = response.user.uid;\n          firebase.firestore().collection('Users').doc(uid).get().then(function (firestoreDocument) {\n            if (!firestoreDocument.exists) {\n              setValid2(\"User does not exist anymore.\");\n              setloading(false);\n              return;\n            } else {\n              setloading(true);\n              AsyncStorage.setItem('xyz', uid).then(function (value) {\n                navigation.replace('FrontScr', {\n                  user: uid\n                });\n                setloading(false);\n              });\n            }\n          }).catch(function (error) {\n            ShowError(error.toString());\n            setloading(false);\n            return false;\n          });\n        }).catch(function (error) {\n          ShowError(error.toString());\n          setloading(false);\n          return false;\n        });\n        setloading(false);\n      } catch (err) {\n        ShowError(error.toString());\n        setloading(false);\n        return false;\n      }\n    }\n  };\n\n  return _jsxs(SafeAreaView, {\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\"\n    }), _jsx(View, {\n      style: {\n        marginTop: 50\n      }\n    }), _jsx(Text, {\n      style: {\n        fontSize: 35,\n        marginTop: 10,\n        marginLeft: 20,\n        color: \"#1976d2\",\n        fontWeight: \"bold\"\n      },\n      children: \"Sign In\"\n    }), _jsx(Text, {\n      style: {\n        fontSize: 16,\n        color: 'gray',\n        marginLeft: 20\n      },\n      children: \"Sign in to continue\"\n    }), _jsxs(View, {\n      style: {\n        marginRight: 30,\n        paddingBottom: 30,\n        paddingTop: 75,\n        marginLeft: 30\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: 'black',\n          borderBottomColor: email == \"\" ? \"#ddd\" : 'green',\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"username\",\n        keyboardType: \"email-address\",\n        onChangeText: function onChangeText(t1) {\n          setEmail(t1);\n          setValid1(\"\");\n        },\n        onChange: validateEmail\n      }), _jsx(Text, {\n        style: {\n          color: \"red\"\n        },\n        children: valid1\n      })]\n    }), _jsxs(View, {\n      style: {\n        marginRight: 30,\n        paddingBottom: 30,\n        marginLeft: 30\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          fontSize: 16,\n          color: 'black',\n          borderBottomColor: pass == \"\" ? \"#ddd\" : \"green\",\n          borderBottomWidth: 1,\n          paddingBottom: 10\n        },\n        placeholder: \"password\",\n        secureTextEntry: visible,\n        onChangeText: function onChangeText(t2) {\n          setPass(t2);\n          setValid2(\"\");\n        }\n      }), _jsx(View, {\n        style: {\n          marginLeft: Platform.OS === 'ios' ? 295 : 310,\n          marginTop: -35\n        },\n        children: _jsx(Ionicons, {\n          onPress: showpass,\n          name: eye,\n          size: 22,\n          color: color\n        })\n      }), _jsx(Text, {\n        style: {\n          color: \"red\",\n          marginTop: 6\n        },\n        children: valid2\n      })]\n    }), _jsxs(View, {\n      style: {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: 30\n      },\n      children: [_jsx(Boton, {\n        title: \"Sign In\",\n        onPress: signValidation,\n        widt: 200\n      }), _jsx(TouchableOpacity, {\n        style: {\n          marginTop: 20\n        },\n        children: _jsx(Text, {\n          style: {\n            color: \"blue\"\n          },\n          onPress: function onPress() {\n            return navigation.navigate(\"Forgot Password\");\n          },\n          children: \"Forgot Password?\"\n        })\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          marginTop: 40\n        },\n        children: [_jsx(RoundedButton, {\n          Txt: \"f\",\n          color: \"#1976d2\",\n          widt: 60,\n          heigh: 60,\n          borderRad: 60 / 2\n        }), _jsx(RoundedButton, {\n          Txt: \"G\",\n          color: \"#ff5722\",\n          widt: 60,\n          heigh: 60,\n          borderRad: 60 / 2\n        }), _jsx(RoundedButton, {\n          Txt: \"t\",\n          color: \"#64b5f6\",\n          widt: 60,\n          heigh: 60,\n          borderRad: 60 / 2\n        })]\n      })]\n    }), _jsxs(View, {\n      style: {\n        justifyContent: \"center\",\n        alignItems: 'center',\n        marginTop: 40,\n        flexDirection: \"row\"\n      },\n      children: [_jsx(Text, {\n        children: \"Don't have an account? \"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"SignUp\");\n        },\n        children: _jsx(Text, {\n          style: {\n            color: \"blue\"\n          },\n          children: \"Signup\"\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  SoTextDesign: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: \"#fff\"\n  }\n});","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/LoginScreen/Login.js"],"names":["SafeAreaView","RoundedButton","Boton","useState","firebase","Ionicons","AsyncStorage","Dispatch","useEffect","ShowError","Login","navigation","email","setEmail","pass","setPass","valid1","setValid1","valid2","setValid2","color","setColor","loading","setloading","isValid","setIsValid","eye","setEye","visible","setVisible","emailRegex","getItem","userToken","console","log","showpass","justifyContent","flex","validateEmail","test","signValidation","auth","signInWithEmailAndPassword","then","response","uid","user","firestore","collection","doc","get","firestoreDocument","exists","setItem","value","replace","catch","error","toString","err","marginTop","fontSize","marginLeft","fontWeight","marginRight","paddingBottom","paddingTop","borderBottomColor","borderBottomWidth","t1","t2","Platform","OS","alignItems","navigate","flexDirection","styles","StyleSheet","create","SoTextDesign"],"mappings":"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","sourcesContent":["\r\nimport { Platform, Text } from \"react-native\";\r\nimport { View,StatusBar } from \"react-native\";\r\nimport { TextInput,TouchableOpacity,StyleSheet,ActivityIndicator } from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\nimport { RoundedButton } from \"../../Style/RoundedButton\";\r\nimport { Boton } from \"../../Style/Boton\";\r\nimport { useState } from \"react\";\r\nimport { firebase } from \"../firebaseConfig/Config\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Dispatch } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { ShowError } from \"../../Style/ErrorMessage\";\r\n\r\nexport const Login = ({ navigation }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [pass, setPass] = useState(\"\");\r\n    const [valid1, setValid1] = useState(null);\r\n    const [valid2, setValid2] = useState(null);\r\n    const [color,setColor]=useState('gray');\r\n    const [loading, setloading] =useState(false);\r\n    const [isValid, setIsValid] = useState(false);\r\n    const [eye, setEye] = useState(\"eye-off\");\r\n    const [visible,setVisible]=useState(true)\r\n    const emailRegex = /\\S+@\\S+\\.\\S+/;\r\n\r\n\r\n\r\n    useEffect(async () => {\r\n    let userToken\r\n        userToken = await AsyncStorage.getItem('xyz')\r\n        console.log(\"hello its Login\", userToken);\r\n    })\r\n\r\n\r\n\r\n    const showpass=()=>{\r\n        if(eye==\"eye-off\"){\r\n          setEye(\"eye\")\r\n            setColor(\"green\")\r\n            setVisible(false)\r\n        }else if(eye==\"eye\"){\r\n          setEye(\"eye-off\")\r\n            setColor(\"gray\")\r\n            setVisible(true)\r\n        }\r\n      }\r\n    if (loading) {\r\n\r\n        return<View style={{ justifyContent: 'center',flex:1 }}>\r\n            <ActivityIndicator size=\"large\" color=\"#00ff00\"  />\r\n            </View>\r\n    }\r\n    \r\n    const validateEmail = () => {\r\n        if (emailRegex.test(email)) {\r\n          setIsValid(true);\r\n        } else {\r\n          setIsValid(false);\r\n            setValid1('Please enter a valid email!');\r\n            \r\n        }\r\n      };\r\n\r\n    const signValidation = () => {\r\n        if (email == \"\" && pass == \"\") {\r\n            ShowError('please fill out all required fields')\r\n            return false\r\n        }\r\n        if (email == \"\") {\r\n           // setValid1(\"*Required\");\r\n            ShowError('Please enter your email')\r\n            return false\r\n    \r\n        }\r\n        // else {\r\n        //     validateEmail();\r\n        // }\r\n        \r\n        if (pass == \"\") {\r\n           // setValid2(\"*Required\");\r\n            ShowError('Please inter your Password')\r\n            return false\r\n        }\r\n        else {\r\n\r\n            try {\r\n                setloading(true);\r\n                firebase.auth().signInWithEmailAndPassword(email, pass).then((response) => {\r\n                    const uid = response.user.uid\r\n                    firebase.firestore().collection('Users').doc(uid).get().then(firestoreDocument => {\r\n                        if (!firestoreDocument.exists) {\r\n                            setValid2(\"User does not exist anymore.\")\r\n                            setloading(false);\r\n                        return;\r\n                        } else {setloading(true);\r\n                            AsyncStorage.setItem('xyz', uid).then((value) => {\r\n                                navigation.replace('FrontScr', { user: uid })\r\n                               setloading(false);\r\n                            })\r\n                            \r\n                          \r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        ShowError(error.toString())\r\n                        setloading(false);\r\n                        return false\r\n                        //setValid2(\"User not found\")\r\n          });\r\n                }).catch(error => {\r\n                    ShowError(error.toString())\r\n                    setloading(false);\r\n                    return false\r\n                    \r\n                    //setPass(\"Incorrect email or password\")\r\n                  // setloading(false);\r\n      })\r\n      setloading(false);\r\n            }\r\n            catch (err) {\r\n                ShowError(error.toString())\r\n                setloading(false);\r\n                return false\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        \r\n        <SafeAreaView>\r\n            <StatusBar barStyle='dark-content'/>\r\n            <View style={{marginTop:50}}></View>\r\n            <Text style={{fontSize: 35,marginTop:10,marginLeft:20, color:\"#1976d2\",fontWeight:\"bold\"}}>Sign In</Text>\r\n            {/* <Text style={{ fontSize: 25, margin: 20 }}>Welcome Back!</Text> */}\r\n            <Text style={{ fontSize: 16, color: 'gray',marginLeft:20 }}>Sign in to continue</Text>\r\n            \r\n            <View style={{ marginRight:30, paddingBottom:30,paddingTop:75,marginLeft:30}}>\r\n               \r\n               <TextInput\r\n            style={{fontSize: 16, color: 'black', borderBottomColor:email==\"\"?\"#ddd\":'green', borderBottomWidth:1,paddingBottom:10}}\r\n                   placeholder=\"username\"\r\n                 keyboardType='email-address'\r\n                   \r\n                   onChangeText={t1 => {\r\n                       setEmail(t1)\r\n                       setValid1(\"\");\r\n                    }}\r\n                    onChange={validateEmail}\r\n\r\n               />\r\n               <Text style={{color:\"red\"}}>{valid1}</Text>\r\n           </View>\r\n           <View style={{marginRight:30, paddingBottom:30,marginLeft:30}}>\r\n                <TextInput\r\n                style={{ fontSize: 16, color: 'black', borderBottomColor:pass==\"\"?\"#ddd\":\"green\", borderBottomWidth:1,paddingBottom:10}}\r\n                    placeholder=\"password\"\r\n                    secureTextEntry={visible}\r\n                        onChangeText={t2 => {\r\n                            setPass(t2)\r\n                            setValid2(\"\");\r\n                            \r\n                    }}\r\n                />\r\n\r\n                <View style={{marginLeft:Platform.OS === 'ios' ?295:310,marginTop:-35}}>\r\n                    <Ionicons onPress={showpass} name={eye} size={22} color={color} />\r\n                </View>\r\n                \r\n                    <Text style={{color:\"red\",marginTop:6}}>{valid2}</Text>\r\n                </View>\r\n            <View style={{justifyContent:\"center\",alignItems:\"center\", marginTop:30}}>\r\n              \r\n                <Boton title={\"Sign In\"} onPress={signValidation} widt={200} />\r\n               \r\n                <TouchableOpacity style={{ marginTop: 20 }}\r\n                >\r\n                    <Text style={{color:\"blue\"}} onPress={()=>navigation.navigate(\"Forgot Password\")}>Forgot Password?</Text>\r\n                </TouchableOpacity>\r\n               \r\n                <View style={{ flexDirection: \"row\", marginTop: 40}}>\r\n                 \r\n                <RoundedButton Txt={\"f\"} color={\"#1976d2\"} widt={60} heigh={60} borderRad={60/2}/>\r\n                <RoundedButton Txt={\"G\"} color={\"#ff5722\"} widt={60} heigh={60} borderRad={60/2}/>\r\n                <RoundedButton Txt={\"t\"} color={\"#64b5f6\"} widt={60} heigh={60} borderRad={60/2}/>\r\n            </View>\r\n            </View>\r\n            <View style={{justifyContent:\"center\",alignItems:'center',marginTop:40, flexDirection:\"row\"}}>\r\n                <Text>Don't have an account? </Text>\r\n                <TouchableOpacity onPress={() => navigation.navigate(\"SignUp\")}><Text style={{color:\"blue\"}}>Signup</Text></TouchableOpacity>\r\n            </View>\r\n        </SafeAreaView>\r\n    )\r\n}\r\n    const styles = StyleSheet.create({\r\n\r\n        SoTextDesign: {\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n            color: \"#fff\",\r\n        }\r\n\r\n    });"]},"metadata":{},"sourceType":"module"}
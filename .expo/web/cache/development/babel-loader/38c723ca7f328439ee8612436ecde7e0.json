{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport { firebase } from \"../firebaseConfig/Config\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport LogBox from \"react-native-web/dist/exports/LogBox\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport { Button, SocialIcon } from \"react-native-elements\";\nimport * as Facebook from \"expo-facebook\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { ShowError } from \"../../Style/ErrorMessage\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport { color } from \"react-native-elements/dist/helpers\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar appId = \"1047121222092614\";\nLogBox.ignoreAllLogs();\nexport default function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass = _useState4[0],\n      setPass = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setloading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isEnabled = _useState8[0],\n      setIsEnabled = _useState8[1];\n\n  var toggleSwitch = function toggleSwitch() {\n    return setIsEnabled(function (previousState) {\n      return !previousState;\n    });\n  };\n\n  var _useState9 = useState(\"eye-off\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      eye = _useState10[0],\n      setEye = _useState10[1];\n\n  var _useState11 = useState(\"gray\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      color = _useState12[0],\n      setColor = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      visible = _useState14[0],\n      setVisible = _useState14[1];\n\n  var onLoginPressHelper = function onLoginPressHelper() {\n    if (email == \"\" && pass == \"\") {\n      ShowError(\"Please fill out all required fields\");\n    } else if (email == \"\" || pass == \"\") {\n      if (email == \"\") {\n        ShowError(\"Please enter your email\");\n      } else if (pass == \"\") {\n        ShowError(\"Please inter your Password\");\n      }\n    } else {\n      try {\n        setloading(true);\n        firebase.auth().signInWithEmailAndPassword(email, pass).then(function (response) {\n          var uid = response.user.uid;\n          firebase.firestore().collection(\"Helpers\").doc(uid).get().then(function (firestoreDocument) {\n            if (!firestoreDocument.exists) {\n              ShowError(\"User does not exist anymore.\");\n              setloading(false);\n              return;\n            } else {\n              AsyncStorage.setItem(\"xyz\", uid);\n              navigation.replace(\"HelperFront\");\n            }\n          }).catch(function (error) {\n            ShowError(error.toString());\n            setloading(false);\n          });\n        }).catch(function (error) {\n          ShowError(error.toString());\n          setloading(false);\n        });\n      } catch (error) {\n        ShowError(error.toString());\n        setloading(false);\n      }\n    }\n  };\n\n  var onLoginPress = function onLoginPress() {\n    if (email == \"\" && pass == \"\") {\n      ShowError(\"Please fill out all required fields\");\n    } else if (email == \"\" || pass == \"\") {\n      if (email == \"\") {\n        ShowError(\"Please enter your email\");\n      } else if (pass == \"\") {\n        ShowError(\"Please inter your Password\");\n      }\n    } else {\n      try {\n        setloading(true);\n        firebase.auth().signInWithEmailAndPassword(email, pass).then(function (response) {\n          var uid = response.user.uid;\n          firebase.firestore().collection(\"Users\").doc(uid).get().then(function (firestoreDocument) {\n            if (!firestoreDocument.exists) {\n              ShowError(\"User does not exist anymore.\");\n              setloading(false);\n              return;\n            } else {\n              AsyncStorage.setItem(\"xyz\", uid);\n              setloading(false);\n              navigation.replace(\"FrontScr\");\n            }\n          }).catch(function (error) {\n            ShowError(error.toString());\n            setloading(false);\n          });\n        }).catch(function (error) {\n          ShowError(error.toString());\n          setloading(false);\n        });\n      } catch (error) {\n        ShowError(error.toString());\n        setloading(false);\n      }\n    }\n  };\n\n  var onFbLoginPress = function onFbLoginPress() {\n    var _await$Facebook$logIn, type, token, response, ss, message;\n\n    return _regeneratorRuntime.async(function onFbLoginPress$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Facebook.initializeAsync({\n              appId: appId\n            }));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync({\n              permissions: [\"public_profile\", \"email\"]\n            }));\n\n          case 5:\n            _await$Facebook$logIn = _context.sent;\n            type = _await$Facebook$logIn.type;\n            token = _await$Facebook$logIn.token;\n\n            if (!(type === \"success\")) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(fetch(\"https://graph.facebook.com/me?access_token=\" + token));\n\n          case 11:\n            response = _context.sent;\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 14:\n            ss = _context.sent;\n            console.log(ss);\n\n          case 16:\n            _context.next = 22;\n            break;\n\n          case 18:\n            _context.prev = 18;\n            _context.t0 = _context[\"catch\"](0);\n            message = _context.t0.message;\n            Alert.alert(\"Facebook Login Error: \" + message);\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 18]], Promise);\n  };\n\n  var showpass = function showpass() {\n    if (eye == \"eye-off\") {\n      setEye(\"eye\");\n      setColor(\"#3897f1\");\n      setVisible(false);\n    } else if (eye == \"eye\") {\n      setEye(\"eye-off\");\n      setColor(\"gray\");\n      setVisible(true);\n    }\n  };\n\n  return _jsxs(KeyboardAvoidingView, {\n    style: styles.containerView,\n    behavior: \"padding\",\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\"\n    }), _jsx(View, {\n      style: styles.SwitchStyle,\n      children: _jsx(Switch, {\n        trackColor: {\n          false: \"#767577\",\n          true: \"#1976d2\"\n        },\n        thumbColor: isEnabled ? \"#fff\" : \"#f4f3f4\",\n        ios_backgroundColor: \"#aeaeae\",\n        onValueChange: toggleSwitch,\n        value: isEnabled\n      })\n    }), _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Spinner, {\n        visible: loading,\n        textContent: \"Loading...\",\n        textStyle: styles.spinnerTextStyle\n      }), _jsx(TouchableWithoutFeedback, {\n        onPress: Keyboard.dismiss,\n        children: _jsx(View, {\n          style: styles.loginScreenContainer,\n          children: _jsxs(View, {\n            style: styles.loginFormView,\n            children: [_jsx(Text, {\n              style: styles.logoText,\n              children: \"Login\"\n            }), _jsx(TextInput, {\n              placeholder: \"username\",\n              placeholderTextColor: \"#c4c3cb\",\n              style: styles.loginFormTextInput,\n              keyboardType: \"email-address\",\n              onChangeText: function onChangeText(t1) {\n                setEmail(t1);\n              }\n            }), _jsx(TextInput, {\n              placeholder: \"Password\",\n              placeholderTextColor: \"#c4c3cb\",\n              style: styles.loginFormTextInput,\n              secureTextEntry: visible,\n              onChangeText: function onChangeText(t2) {\n                setPass(t2);\n              }\n            }), _jsx(View, {\n              style: {\n                alignSelf: \"flex-end\",\n                marginRight: 13,\n                marginTop: -35\n              },\n              children: _jsx(Ionicons, {\n                onPress: showpass,\n                name: eye,\n                size: 22,\n                color: color\n              })\n            }), _jsx(TouchableOpacity, {\n              style: {\n                marginTop: 5,\n                alignSelf: \"flex-end\"\n              },\n              children: _jsx(Text, {\n                style: {\n                  color: \"#3897f1\",\n                  marginTop: 8\n                },\n                onPress: function onPress() {\n                  return navigation.navigate(\"Forgot Password\");\n                },\n                children: \"Forgot Password?\"\n              })\n            }), isEnabled ? _jsx(Button, {\n              buttonStyle: styles.loginButton,\n              onPress: function onPress() {\n                return onLoginPressHelper();\n              },\n              title: \"Helper Login\"\n            }) : _jsx(Button, {\n              buttonStyle: styles.loginButton,\n              onPress: function onPress() {\n                return onLoginPress();\n              },\n              title: \"Login\"\n            }), _jsx(Text, {\n              style: {\n                alignSelf: \"center\",\n                fontSize: 17,\n                marginTop: 25\n              },\n              children: \"OR\"\n            }), _jsx(Button, {\n              buttonStyle: styles.loginButton,\n              onPress: function onPress() {\n                return onFbLoginPress();\n              },\n              title: \"Login With Facebook\"\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return navigation.replace(\"Signup\");\n              },\n              children: _jsx(Text, {\n                style: styles.createNewAccount,\n                children: \"Create new account?\"\n              })\n            })]\n          })\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  containerView: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  loginScreenContainer: {\n    flex: 1\n  },\n  logoText: {\n    fontSize: 40,\n    fontWeight: \"800\",\n    marginTop: 10,\n    marginBottom: 30,\n    textAlign: \"center\"\n  },\n  loginFormView: {\n    flex: 1\n  },\n  createNewAccount: {\n    marginTop: 14,\n    alignSelf: \"center\",\n    fontSize: 14,\n    color: \"#3897f1\"\n  },\n  loginFormTextInput: {\n    height: 43,\n    fontSize: 14,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"#eaeaea\",\n    backgroundColor: \"#fafafa\",\n    paddingLeft: 10,\n    marginTop: 5,\n    marginBottom: 5\n  },\n  loginButton: {\n    backgroundColor: \"#3897f1\",\n    borderRadius: 5,\n    height: 45,\n    marginTop: 30,\n    width: 350,\n    alignItems: \"center\"\n  },\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    paddingTop: 30,\n    padding: 1\n  },\n  spinnerTextStyle: {\n    color: \"#FFF\",\n    fontSize: 15\n  },\n  SwitchStyle: {\n    marginTop: 65,\n    alignSelf: \"flex-end\",\n    marginRight: 25\n  }\n});","map":{"version":3,"sources":["C:/Users/USER/signupp/Components/LoginScreen/LoginScreen.js"],"names":["React","useState","firebase","Button","SocialIcon","Facebook","ShowError","AsyncStorage","Spinner","color","Ionicons","appId","LogBox","ignoreAllLogs","LoginScreen","navigation","email","setEmail","pass","setPass","loading","setloading","isEnabled","setIsEnabled","toggleSwitch","previousState","eye","setEye","setColor","visible","setVisible","onLoginPressHelper","auth","signInWithEmailAndPassword","then","response","uid","user","firestore","collection","doc","get","firestoreDocument","exists","setItem","replace","catch","error","toString","onLoginPress","onFbLoginPress","initializeAsync","logInWithReadPermissionsAsync","permissions","type","token","fetch","json","ss","console","log","message","Alert","alert","showpass","styles","containerView","SwitchStyle","false","true","container","spinnerTextStyle","Keyboard","dismiss","loginScreenContainer","loginFormView","logoText","loginFormTextInput","t1","t2","alignSelf","marginRight","marginTop","navigate","loginButton","fontSize","createNewAccount","StyleSheet","create","flex","alignItems","fontWeight","marginBottom","textAlign","height","borderRadius","borderWidth","borderColor","backgroundColor","paddingLeft","width","justifyContent","paddingTop","padding"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { firebase } from \"../firebaseConfig/Config\";\r\nimport {\r\n  Alert,\r\n  Image,\r\n  Keyboard,\r\n  KeyboardAvoidingView,\r\n  Text,\r\n  TextInput,\r\n  TouchableWithoutFeedback,\r\n  Pressable,\r\n  View,\r\n  ActivityIndicator,\r\n  LogBox,\r\n  StatusBar,\r\n  TouchableOpacity,\r\n  Switch,\r\n} from \"react-native\";\r\nimport { Button, SocialIcon } from \"react-native-elements\";\r\nimport * as Facebook from \"expo-facebook\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport { ShowError } from \"../../Style/ErrorMessage\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport Spinner from \"react-native-loading-spinner-overlay\";\r\nimport { color } from \"react-native-elements/dist/helpers\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\n\r\nconst appId = \"1047121222092614\";\r\nLogBox.ignoreAllLogs();\r\nexport default function LoginScreen({ navigation }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [loading, setloading] = useState(false);\r\n  const [isEnabled, setIsEnabled] = useState(false);\r\n  const toggleSwitch = () => setIsEnabled((previousState) => !previousState);\r\n  const [eye, setEye] = useState(\"eye-off\");\r\n  const [color, setColor] = useState(\"gray\");\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const onLoginPressHelper = () => {\r\n    if (email == \"\" && pass == \"\") {\r\n      ShowError(\"Please fill out all required fields\");\r\n    } else if (email == \"\" || pass == \"\") {\r\n      if (email == \"\") {\r\n        ShowError(\"Please enter your email\");\r\n      } else if (pass == \"\") {\r\n        ShowError(\"Please inter your Password\");\r\n      }\r\n    } else {\r\n      try {\r\n        setloading(true);\r\n        firebase\r\n          .auth()\r\n          .signInWithEmailAndPassword(email, pass)\r\n          .then((response) => {\r\n            const uid = response.user.uid;\r\n            firebase\r\n              .firestore()\r\n              .collection(\"Helpers\")\r\n              .doc(uid)\r\n              .get()\r\n              .then((firestoreDocument) => {\r\n                if (!firestoreDocument.exists) {\r\n                  ShowError(\"User does not exist anymore.\");\r\n                  setloading(false);\r\n                  return;\r\n                } else {\r\n                  AsyncStorage.setItem(\"xyz\", uid);\r\n                  navigation.replace(\"HelperFront\");\r\n                  //   setloading(false);\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                ShowError(error.toString());\r\n                setloading(false);\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            ShowError(error.toString());\r\n            setloading(false);\r\n          });\r\n      } catch (error) {\r\n        ShowError(error.toString());\r\n        setloading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onLoginPress = () => {\r\n    if (email == \"\" && pass == \"\") {\r\n      ShowError(\"Please fill out all required fields\");\r\n    } else if (email == \"\" || pass == \"\") {\r\n      if (email == \"\") {\r\n        ShowError(\"Please enter your email\");\r\n      } else if (pass == \"\") {\r\n        ShowError(\"Please inter your Password\");\r\n      }\r\n    } else {\r\n      try {\r\n        setloading(true);\r\n        firebase\r\n          .auth()\r\n          .signInWithEmailAndPassword(email, pass)\r\n          .then((response) => {\r\n            const uid = response.user.uid;\r\n            firebase\r\n              .firestore()\r\n              .collection(\"Users\")\r\n              .doc(uid)\r\n              .get()\r\n              .then((firestoreDocument) => {\r\n                if (!firestoreDocument.exists) {\r\n                  ShowError(\"User does not exist anymore.\");\r\n                  setloading(false);\r\n                  return;\r\n                } else {\r\n                  AsyncStorage.setItem(\"xyz\", uid);\r\n                  setloading(false);\r\n                  navigation.replace(\"FrontScr\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                ShowError(error.toString());\r\n                setloading(false);\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            ShowError(error.toString());\r\n            setloading(false);\r\n          });\r\n      } catch (error) {\r\n        ShowError(error.toString());\r\n        setloading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onFbLoginPress = async () => {\r\n    try {\r\n      await Facebook.initializeAsync({\r\n        appId,\r\n      });\r\n      const { type, token } = await Facebook.logInWithReadPermissionsAsync({\r\n        permissions: [\"public_profile\", \"email\"],\r\n      });\r\n      if (type === \"success\") {\r\n        const response = await fetch(\r\n          `https://graph.facebook.com/me?access_token=${token}`\r\n        );\r\n        // Alert.alert(\"Logged in!\", `Hi ${(await response.json()).name}!`);\r\n        const ss = await response.json();\r\n        console.log(ss);\r\n      }\r\n    } catch ({ message }) {\r\n      Alert.alert(`Facebook Login Error: ${message}`);\r\n    }\r\n  };\r\n\r\n  const showpass = () => {\r\n    if (eye == \"eye-off\") {\r\n      setEye(\"eye\");\r\n      setColor(\"#3897f1\");\r\n      setVisible(false);\r\n    } else if (eye == \"eye\") {\r\n      setEye(\"eye-off\");\r\n      setColor(\"gray\");\r\n      setVisible(true);\r\n    }\r\n  };\r\n  return (\r\n    <KeyboardAvoidingView style={styles.containerView} behavior=\"padding\">\r\n      <StatusBar barStyle=\"dark-content\" />\r\n      <View style={styles.SwitchStyle}>\r\n        <Switch\r\n          trackColor={{ false: \"#767577\", true: \"#1976d2\" }}\r\n          thumbColor={isEnabled ? \"#fff\" : \"#f4f3f4\"}\r\n          ios_backgroundColor=\"#aeaeae\"\r\n          onValueChange={toggleSwitch}\r\n          value={isEnabled}\r\n        />\r\n      </View>\r\n      <View style={styles.container}>\r\n        <Spinner\r\n          //visibility of Overlay Loading Spinner\r\n          visible={loading}\r\n          //Text with the Spinner\r\n          textContent={\"Loading...\"}\r\n          //Text style of the Spinner Text\r\n          textStyle={styles.spinnerTextStyle}\r\n        />\r\n        <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\r\n          <View style={styles.loginScreenContainer}>\r\n            <View style={styles.loginFormView}>\r\n              <Text style={styles.logoText}>Login</Text>\r\n              <TextInput\r\n                placeholder=\"username\"\r\n                placeholderTextColor={\"#c4c3cb\"}\r\n                style={styles.loginFormTextInput}\r\n                keyboardType=\"email-address\"\r\n                onChangeText={(t1) => {\r\n                  setEmail(t1);\r\n                }}\r\n              />\r\n         \r\n              <TextInput\r\n                placeholder=\"Password\"\r\n                placeholderTextColor={\"#c4c3cb\"}\r\n                style={styles.loginFormTextInput}\r\n                secureTextEntry={visible}\r\n                onChangeText={(t2) => {\r\n                  setPass(t2);\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  alignSelf: \"flex-end\",\r\n                  marginRight: 13,\r\n                  marginTop: -35,\r\n                }}\r\n              >\r\n                <Ionicons\r\n                  onPress={showpass}\r\n                  name={eye}\r\n                  size={22}\r\n                  color={color}\r\n                />\r\n              </View>\r\n\r\n              <TouchableOpacity style={{ marginTop: 5, alignSelf: \"flex-end\" }}>\r\n                <Text\r\n                  style={{ color: \"#3897f1\", marginTop: 8 }}\r\n                  onPress={() => navigation.navigate(\"Forgot Password\")}\r\n                >\r\n                  Forgot Password?\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {isEnabled ? (\r\n                <Button\r\n                  buttonStyle={styles.loginButton}\r\n                  onPress={() => onLoginPressHelper()}\r\n                  title=\"Helper Login\"\r\n                />\r\n              ) : (\r\n                <Button\r\n                  buttonStyle={styles.loginButton}\r\n                  onPress={() => onLoginPress()}\r\n                  title=\"Login\"\r\n                />\r\n              )}\r\n\r\n              <Text\r\n                style={{ alignSelf: \"center\", fontSize: 17, marginTop: 25 }}\r\n              >\r\n                OR\r\n              </Text>\r\n              <Button\r\n                buttonStyle={styles.loginButton}\r\n                onPress={() => onFbLoginPress()}\r\n                title=\"Login With Facebook\"\r\n              />\r\n              <TouchableOpacity onPress={() => navigation.replace(\"Signup\")}>\r\n                <Text style={styles.createNewAccount}>Create new account?</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  containerView: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n  loginScreenContainer: {\r\n    flex: 1,\r\n  },\r\n  logoText: {\r\n    fontSize: 40,\r\n    fontWeight: \"800\",\r\n    marginTop: 10,\r\n    marginBottom: 30,\r\n    textAlign: \"center\",\r\n  },\r\n  loginFormView: {\r\n    flex: 1,\r\n  },\r\n  createNewAccount: {\r\n    marginTop: 14,\r\n    alignSelf: \"center\",\r\n    fontSize: 14,\r\n    color: \"#3897f1\",\r\n  },\r\n\r\n  loginFormTextInput: {\r\n    height: 43,\r\n    fontSize: 14,\r\n    borderRadius: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#eaeaea\",\r\n    backgroundColor: \"#fafafa\",\r\n    paddingLeft: 10,\r\n    marginTop: 5,\r\n    marginBottom: 5,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: \"#3897f1\",\r\n    borderRadius: 5,\r\n    height: 45,\r\n    marginTop: 30,\r\n    width: 350,\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n    paddingTop: 30,\r\n    // backgroundColor: \"#ecf0f1\",\r\n    padding: 1,\r\n  },\r\n  spinnerTextStyle: {\r\n    color: \"#FFF\",\r\n    fontSize: 15,\r\n  },\r\n  SwitchStyle: {\r\n    marginTop: 65,\r\n    alignSelf: \"flex-end\",\r\n    marginRight: 25,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}